(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{242:function(e,t,n){"use strict";n.d(t,"a",(function(){return dt}));var r=n(101),o=n(243),c=n(246),i=n(4),s=n.n(i),a=n(6),l=n.n(a),d=n(10),u=n.n(d),b=n(178),j=n(359),h=n(151),O=n(0);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=n(113);function x(){return Object(g.a)()}var m=n(355),y=n(356),v=n(129),w=n(358),S=n(2),k=n(18),C=n(12),P=n.n(C),z=n(20),I=n(3),R={light:{text:"#fff",background:"#17567B"},dark:{text:"#fff",background:"#17567B"}},T=n(1),D=["style","lightColor","darkColor"],V=["style","lightColor","darkColor"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t){var n=x(),r=e[n];return r||R[n][t]}function E(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=P()(e,D),c=W({light:n,dark:r},"text");return Object(T.jsx)(z.a,A({style:[{color:c},t]},o))}function B(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=P()(e,V),c=W({light:n,dark:r},"background");return Object(T.jsx)(I.a,A({style:[{backgroundColor:c},t]},o))}function L(e){var t=e.navigation;return Object(T.jsxs)(B,{style:U.container,children:[Object(T.jsx)(E,{style:U.title,children:"404 - NOT FOUND"}),Object(T.jsx)(k.a,{onPress:function(){return t.replace("Root")},style:U.link,children:Object(T.jsx)(E,{style:U.linkText,children:"Lost? Go back home!"})})]})}var U=S.a.create({container:{backgroundColor:"#17567B",flex:1,alignItems:"center",justifyContent:"center",padding:20},title:{color:"white",fontSize:35,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:15,color:"white"}}),H=n(27),M=n(5),F=n(357),q=n(38),G=n(15),J=n(40),K=n(24),Q=n(44),Y=n(33),Z=n(56),X=n(43),$=n(81),_=["En attente","R\xe9par\xe9","Devis","Retour au client","Attente de pi\xe8ces"];function ee(e){var t=e.item,n=e.setItem,r=e.openAdminItemDetails,o=e.setOpenAdminItemDetails,c=(x(),Object(O.useState)("")),i=l()(c,2),s=i[0],a=i[1],d=Object(O.useState)(_.findIndex((function(e){return e===t.status}))),j=l()(d,2),h=j[0],f=j[1],p=Object(O.useState)(t.clientPhoneNumber?t.clientPhoneNumber:""),g=l()(p,2),m=g[0],y=g[1],v=Object(O.useState)(t.model?t.model:""),w=l()(v,2),S=w[0],k=w[1],C=Object(O.useState)(t.serialNumber?t.serialNumber:""),P=l()(C,2),z=P[0],I=P[1],R=Object(O.useState)(t.prestation?t.prestation:0),D=l()(R,2),V=D[0],N=D[1],A=Object(O.useState)(t.diagnostic?t.diagnostic:""),W=l()(A,2),L=W[0],U=W[1],H=Object(G.e)(),M=Object(O.useCallback)((function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h||!t.itemId){e.next=3;break}return e.next=3,u.a.awrap(Object(G.i)(Object(G.b)(H,"items",t.itemId),{status:_[h]}));case 3:case"end":return e.stop()}}),null,null,null,Promise)}),[h]);Object(O.useEffect)((function(){M()}),[M]);var F=function(e,n){var r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!e||!t.itemId){o.next=6;break}return r={},o.next=4,u.a.awrap(Object(G.i)(Object(G.b)(H,"items",t.itemId),Object.defineProperty(r,e,{value:n,configurable:!0,writable:!0,enumerable:!0})));case 4:a(e),setTimeout((function(){a("")}),3e3);case 6:case"end":return o.stop()}}),null,null,null,Promise)};return Object(T.jsx)(B,{style:te.container,children:Object(T.jsx)(Z.a,{animationType:"slide",transparent:!0,visible:r,onRequestClose:function(){o(!r),n(void 0)},children:Object(T.jsx)(Q.a,{children:Object(T.jsxs)(B,{style:te.centeredView,children:[Object(T.jsx)(Y.a,{style:te.button,onPress:function(){o(!r),n(void 0)},children:Object(T.jsx)(b.a,{style:{color:"white",fontWeight:"bold",textAlign:"center"},size:25,name:"close"})}),Object(T.jsxs)(B,{style:te.modalView,children:[Object(T.jsxs)(B,{style:te.modalBlock,children:[Object(T.jsx)(E,{style:te.modalText,children:"Num\xe9ro de bon:"}),Object(T.jsx)(E,{style:{fontSize:45,fontWeight:"bold"},children:t.itemId})]}),Object(T.jsxs)(B,{style:te.modalBlock,children:[Object(T.jsx)(E,{style:te.modalText,children:"Nom du client:"}),Object(T.jsx)(E,{style:{fontSize:30,fontWeight:"600"},children:t.clientName})]}),Object(T.jsxs)(B,{style:te.modalBlock,children:[Object(T.jsxs)(E,{style:te.modalText,children:["Date d'entr\xe9e: ",t.createdAt]}),Object(T.jsxs)(B,{children:[Object(T.jsx)(E,{style:te.modalText,children:"Num\xe9ro de t\xe9l\xe9phone:"}),Object(T.jsxs)(B,{style:{marginVertical:5},children:[Object(T.jsx)(X.a,{value:m,onChangeText:function(e){return y(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:"#001",color:"#fff",borderColor:"#fff",borderWidth:1}}),Object(T.jsx)(Y.a,{onPress:function(){return F("phoneNumber",m)},style:{position:"absolute",right:10,top:10},children:Object(T.jsx)(b.a,{name:"save",size:25,color:"orange"})}),"phoneNumber"===s&&Object(T.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]})]}),Object(T.jsxs)(B,{style:te.modalBlock,children:[Object(T.jsxs)(B,{children:[Object(T.jsx)(E,{style:te.modalText,children:"Mod\xe8le:"}),Object(T.jsxs)(B,{style:{marginVertical:5},children:[Object(T.jsx)(X.a,{value:S,onChangeText:function(e){return k(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:"#001",color:"#fff",borderColor:"#fff",borderWidth:1}}),Object(T.jsx)(Y.a,{onPress:function(){return F("model",S)},style:{position:"absolute",right:10,top:10},children:Object(T.jsx)(b.a,{name:"save",size:25,color:"orange"})}),"model"===s&&Object(T.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]}),Object(T.jsxs)(B,{children:[Object(T.jsx)(E,{style:te.modalText,children:"Num\xe9ro de s\xe9rie:"}),Object(T.jsxs)(B,{style:{marginVertical:5},children:[Object(T.jsx)(X.a,{value:z,onChangeText:function(e){return I(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:"#001",color:"#fff",borderColor:"#fff",borderWidth:1}}),Object(T.jsx)(Y.a,{onPress:function(){return F("serialNumber",z)},style:{position:"absolute",right:10,top:10},children:Object(T.jsx)(b.a,{name:"save",size:25,color:"orange"})}),"serialNumber"===s&&Object(T.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]}),Object(T.jsxs)(B,{children:[Object(T.jsx)(E,{style:te.modalText,children:"Etat:"}),Object(T.jsx)($.a,{buttons:["En attente","R\xe9par\xe9","Devis","Retour au client","Attente de pi\xe8ces"],selectedIndex:h,onPress:function(e){f(e)},containerStyle:{margin:0},selectedButtonStyle:[0===h&&{backgroundColor:"red"},1===h&&{backgroundColor:"green"},2===h&&{backgroundColor:"blue"},3===h&&{backgroundColor:"red"},4===h&&{backgroundColor:"orange"}],selectedTextStyle:{color:"white"}})]}),Object(T.jsxs)(B,{children:[Object(T.jsx)(E,{style:te.modalText,children:"Prestation:"}),Object(T.jsxs)(B,{style:{marginVertical:5},children:[Object(T.jsx)(X.a,{value:V.toString(),onChangeText:function(e){return N(isNaN(parseFloat(e))?0:parseFloat(e))},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:"#001",color:"#fff",borderColor:"#fff",borderWidth:1}}),Object(T.jsx)(Y.a,{onPress:function(){return F("prestation",V)},style:{position:"absolute",right:10,top:10},children:Object(T.jsx)(b.a,{name:"save",size:25,color:"orange"})}),"prestation"===s&&Object(T.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]}),Object(T.jsxs)(B,{children:[Object(T.jsx)(E,{style:te.modalText,children:"Diagnostique"}),Object(T.jsxs)(B,{style:{marginVertical:5},children:[Object(T.jsx)(X.a,{value:L,onChangeText:function(e){return U(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:"#001",color:"#fff",borderColor:"#fff",borderWidth:1}}),Object(T.jsx)(Y.a,{onPress:function(){return F("diagnostic",L)},style:{position:"absolute",right:10,top:10},children:Object(T.jsx)(b.a,{name:"send",size:25,color:"green"})}),"diagnostic"===s&&Object(T.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]})]}),t.clientNote&&Object(T.jsxs)(B,{style:te.modalBlock,children:[Object(T.jsx)(E,{style:te.modalText,children:"Note laiss\xe9e:"}),Object(T.jsx)(E,{style:{fontSize:15,fontStyle:"italic"},children:t.clientNote})]})]})]})})})})}var te=S.a.create({container:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",flex:1,paddingTop:20},centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:20},button:{position:"absolute",top:5,right:10,borderRadius:50,padding:10,elevation:9,backgroundColor:"red",zIndex:90},modalView:{width:"100%"},modalText:{fontSize:15},modalBlock:{margin:30}}),ne=S.a.create({listView:{flex:1,width:"100%",paddingTop:30,paddingBottom:10},buttoncontainer:{display:"flex",justifyContent:"center",alignItems:"center"},button:{display:"flex",justifyContent:"center",alignItems:"center",height:40,width:40,marginVertical:10,borderRadius:50,padding:10,elevation:10,backgroundColor:"red"},textDesc:{overflow:"hidden"}}),re=function(e){var t=e.items,n=e.openList,r=e.setOpenList,o=Object(O.useState)(),c=l()(o,2),i=c[0],s=c[1],a=Object(O.useState)(!1),d=l()(a,2),u=d[0],j=d[1];return Object(T.jsxs)(B,{style:ne.listView,children:[Object(T.jsx)(B,{style:ne.buttoncontainer,children:Object(T.jsx)(Y.a,{style:ne.button,onPress:function(){return r(!n)},children:Object(T.jsx)(b.a,{style:{color:"white",fontWeight:"bold",textAlign:"center"},size:20,name:"close"})})}),Object(T.jsx)(B,{style:{width:"100%",display:"flex"},children:t.map((function(e){return Object(T.jsx)(k.a,{onPress:function(){return function(e){j(!0),s(e)}(e)},children:Object(T.jsxs)(B,{style:{borderRadius:15,width:K.a.get("window").width-10,marginHorizontal:"auto",marginVertical:5,display:"flex",flexDirection:"row",paddingVertical:10,paddingHorizontal:5,shadowColor:"#001",shadowOffset:{width:0,height:1},shadowOpacity:.4,shadowRadius:40},children:[Object(T.jsx)(B,{style:{flex:1,width:"100%",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(T.jsx)(E,{children:e.itemId})}),Object(T.jsxs)(B,{style:{flex:6,width:"100%",display:"flex",flexDirection:"column"},children:[Object(T.jsxs)(B,{style:{flex:1,display:"flex",flexDirection:"row",paddingVertical:5},children:[Object(T.jsx)(B,{style:{flex:1,justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(T.jsx)(E,{style:{fontWeight:"bold",textAlign:"center"},children:e.clientName})}),Object(T.jsx)(B,{style:{flex:1,justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(T.jsx)(E,{children:e.model})})]}),Object(T.jsxs)(B,{style:{borderTopWidth:1,flex:1,display:"flex",flexDirection:"row",paddingVertical:5},children:[Object(T.jsx)(B,{style:{flex:1,justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(T.jsx)(E,{style:{fontStyle:"italic"},children:e.clientPhoneNumber})}),Object(T.jsx)(B,{style:{flex:1,justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(T.jsx)(E,{style:[{color:"white",fontWeight:"bold",paddingHorizontal:3},"En attente"===e.status&&{backgroundColor:"red"},"R\xe9par\xe9"===e.status&&{backgroundColor:"green"},"Devis"===e.status&&{backgroundColor:"blue"},"Retour au client"===e.status&&{backgroundColor:"red"},"Attente de pi\xe8ces"===e.status&&{backgroundColor:"orange"}],children:e.status})})]})]})]})},e.itemId)}))}),u&&i&&Object(T.jsx)(ee,{item:i,setItem:s,openAdminItemDetails:u,setOpenAdminItemDetails:j})]})},oe=S.a.create({container:{backgroundColor:"transparent",display:"flex",justifyContent:"center",alignItems:"center"},button:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:4,marginHorizontal:"auto",minWidth:"50%",backgroundColor:"#000",borderColor:"#000",borderWidth:1,borderStyle:"solid",borderRadius:15}}),ce=function(e){var t=e.title,n=e.clickHandler,r=e.iconName,o=e.iconPosition,c=x();return Object(T.jsx)(B,{style:oe.container,children:Object(T.jsxs)(k.a,{style:oe.button,onPress:n,children:[r&&"before"===o&&Object(T.jsx)(b.a,{size:20,name:r,color:"light"===c?"#001":"white"}),Object(T.jsx)(E,{style:{color:"white",fontSize:16,fontWeight:"bold",padding:10},children:t}),r&&"after"===o&&Object(T.jsx)(b.a,{size:20,name:r,color:"white"})]})})},ie=function(e){var t=e.children,n=e.open,r=e.setOpen;return Object(T.jsx)(B,{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",flex:1,paddingTop:16},children:Object(T.jsx)(Z.a,{style:{height:K.a.get("window").height},animationType:"slide",transparent:!0,visible:n,onRequestClose:function(){r(!n)},children:Object(T.jsx)(Q.a,{children:Object(T.jsxs)(B,{style:{flex:1,justifyContent:"center",alignItems:"center",marginTop:20},children:[Object(T.jsx)(Y.a,{style:{position:"absolute",top:5,right:10,borderRadius:50,padding:10,elevation:10,zIndex:50,backgroundColor:"red"},onPress:function(){return r(!n)},children:Object(T.jsx)(b.a,{style:{color:"white",fontWeight:"bold",textAlign:"center"},size:25,name:"close"})}),Object(T.jsx)(B,{style:{width:"100%"},children:t})]})})})})};function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=S.a.create({container:{backgroundColor:"transparent",marginHorizontal:15,marginVertical:4}}),de=function(e){var t=e.placeholder,n=e.value,r=e.setValue,o=e.condition;x();return Object(T.jsx)(B,{style:le.container,children:Object(T.jsx)(X.a,{style:ae({padding:10,borderRadius:15,backgroundColor:"#001",color:"#fff"},o?{borderColor:"#dd1111",borderWidth:2}:{borderColor:"#fff",borderWidth:1}),placeholder:t,placeholderTextColor:"#777",value:n,onChangeText:function(e){return r&&r(e)}})})},ue=function(e){var t=e.substring(0,3),n=parseInt(e.substring(3)),r="",o="",c="22"+function(){var e="";switch((new Date).getMonth()){case 0:e="A";break;case 1:e="B";break;case 2:e="C";break;case 3:e="D";break;case 4:e="E";break;case 5:e="F";break;case 6:e="G";break;case 7:e="H";break;case 8:e="I";break;case 9:e="J";break;case 10:e="K";break;case 11:e="L";break;default:e=""}return e}();return t===c?(++n>=100?r=n.toString():100>n&&n>=10?r="0".concat(n.toString()):10>n&&(r="00".concat(n.toString())),o=t+r):o=c+"001",o},be=function(){var e=6e4*(new Date).getTimezoneOffset(),t=new Date(Date.now()-e).toISOString().slice(0,-1);return t.substring(0,10)+" "+t.substring(11,16)};function je(e){var t=e.openAddModal,n=e.setOpenAddModal,r=Object(O.useState)(""),o=l()(r,2),c=o[0],i=o[1],s=Object(O.useState)(""),a=l()(s,2),d=a[0],b=a[1],j=Object(O.useState)(""),h=l()(j,2),f=h[0],p=h[1],g=Object(O.useState)(""),x=l()(g,2),m=x[0],y=x[1],v=Object(O.useState)(""),w=l()(v,2),S=w[0],k=w[1],C=Object(G.e)(),P=Object(O.useCallback)((function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Object(G.f)(Object(G.b)(C,"currentId","currentId"),(function(e){e.exists()&&i(ue(e.data().id))}));case 1:case"end":return e.stop()}}),null,null,null,Promise)}),[]);Object(O.useEffect)((function(){P()}),[P]);return Object(T.jsxs)(ie,{open:t,setOpen:n,children:[S.length>1&&Object(T.jsx)(E,{style:he.error,children:S}),Object(T.jsxs)(E,{style:he.modalText,children:["Ajouter: ",c]}),Object(T.jsx)(de,{placeholder:"nom du client",value:d,setValue:b,condition:!d}),Object(T.jsx)(de,{placeholder:"num\xe9ro de t\xe9l\xe9phone du client",value:f,setValue:p,condition:!f}),Object(T.jsx)(de,{placeholder:"mod\xe8le du produit",value:m,setValue:y,condition:!m}),Object(T.jsx)(ce,{title:"Ajouter",clickHandler:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c&&d&&f&&m)){e.next=11;break}return e.next=3,u.a.awrap(Object(G.h)(Object(G.b)(C,"items",c),{clientName:d,clientPhoneNumber:f,itemId:c,model:m,status:"En attente",createdAt:be()}));case 3:return e.next=5,u.a.awrap(Object(G.h)(Object(G.b)(C,"currentId","currentId"),{id:c}));case 5:n(!1),b(""),p(""),y(""),e.next=12;break;case 11:c?(k("Champs obligatoire!"),setTimeout((function(){k("")}),3e3)):(k("Erreur avec le num\xe9ro de bon"),setTimeout((function(){k("")}),3e3));case 12:case"end":return e.stop()}}),null,null,null,Promise)}})]})}var he=S.a.create({error:{backgroundColor:"#dd1111",color:"white",paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"},modalText:{marginBottom:15,textAlign:"center"}}),Oe=S.a.create({error:{backgroundColor:"#dd1111",color:"white",paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"},modalText:{marginBottom:15,textAlign:"center"}}),fe=function(e){var t=e.setItems,n=e.setOpenList,r=e.openSearchModal,o=e.setOpenSearchModal,c=Object(G.e)(),i=Object(O.useState)(""),s=l()(i,2),a=s[0],d=s[1],b=Object(O.useState)(""),j=l()(b,2),h=j[0],f=j[1],p=Object(O.useState)(""),g=l()(p,2),x=g[0],m=g[1],y=Object(O.useState)(""),v=l()(y,2),w=v[0],S=v[1],k=Object(O.useState)(""),C=l()(k,2),P=C[0],z=C[1],I=Object(O.useState)(""),R=l()(I,2),D=R[0],V=R[1];return Object(T.jsxs)(ie,{open:r,setOpen:o,children:[a.length>0&&Object(T.jsx)(E,{style:Oe.error,children:a}),Object(T.jsx)(E,{style:Oe.modalText,children:"S\xe9l\xe9ctionnez les param\xe8tres de votre requ\xeate"}),Object(T.jsx)(de,{placeholder:"Num\xe9ro de bon",value:h,setValue:f}),Object(T.jsx)(de,{placeholder:"Nom du client",value:x,setValue:m}),Object(T.jsx)(de,{placeholder:"Mod\xe8le du produit",value:w,setValue:S}),Object(T.jsx)(de,{placeholder:"Num\xe9ro de s\xe9rie",value:P,setValue:z}),Object(T.jsx)(de,{placeholder:"Etat",value:D,setValue:V}),Object(T.jsx)(ce,{title:"Chercher",clickHandler:function(){var e,r,i;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=[],h&&e.push(Object(G.j)("itemId","==",h)),x&&e.push(Object(G.j)("clientName","==",x)),w&&e.push(Object(G.j)("model","==",w)),P&&e.push(Object(G.j)("serialNumber","==",P)),D&&e.push(Object(G.j)("status","==",D)),r=[],s.next=9,u.a.awrap(Object(G.d)(G.g.apply(void 0,[Object(G.a)(c,"items")].concat(e))));case 9:(i=s.sent).empty?(d("Aucun r\xe9sultat!"),setTimeout((function(){d("")}),3e3)):(i.forEach((function(e){r.push(e.data())})),o(!1),n(!0),t(r));case 11:case"end":return s.stop()}}),null,null,null,Promise)},iconName:"search",iconPosition:"before"})]})},pe=n(245);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=Object(pe.a)({name:"user",initialState:{status:"idle",isAuthenticated:!1},reducers:{fetchUser:function(e,t){t.payload?(e.status="complete",e.isAuthenticated=!0,e.user=t.payload):(e.status="complete",e.isAuthenticated=!1,e.user=void 0)},updateUser:function(e,t){e.status="complete",e.isAuthenticated=!0,e.user=xe(xe({},e.user),{},{role:t.payload.role,items:t.payload.items})},signOutUser:function(e){e.status="complete",e.isAuthenticated=!1,e.user=void 0}},extraReducers:function(e){}}),ye=function(e){return e.user},ve=me.actions,we=ve.fetchUser,Se=ve.updateUser,ke=ve.signOutUser,Ce=me.reducer;function Pe(){var e=Object(q.c)(ye).user,t=Object(G.e)(),n=Object(O.useState)(!1),r=l()(n,2),o=r[0],c=r[1],i=Object(O.useState)(!1),s=l()(i,2),a=s[0],d=s[1],j=Object(O.useState)(!1),h=l()(j,2),f=h[0],p=h[1],g=Object(O.useState)(),x=l()(g,2),m=x[0],y=x[1];return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(Q.a,{children:Object(T.jsxs)(B,{style:ze.container,children:[Object(T.jsxs)(E,{style:ze.title,children:["Bienvenu admin ",null==e?void 0:e.displayName]}),Object(T.jsxs)(B,{style:ze.actions,children:[Object(T.jsxs)(k.a,{onPress:function(){return c(!o)},style:[ze.actioncard,ze.actioncardadd],children:[Object(T.jsx)(b.a,{size:25,color:"white",name:"plus-circle"}),Object(T.jsx)(E,{style:{color:"white"},children:"Ajouter"})]}),Object(T.jsxs)(k.a,{onPress:function(){return d(!a)},style:[ze.actioncard,ze.actioncardsearch],children:[Object(T.jsx)(b.a,{size:25,color:"white",name:"search"}),Object(T.jsx)(E,{style:{color:"white"},children:"Chercher"})]}),Object(T.jsxs)(k.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:y([]),Object(G.f)(Object(G.g)(Object(G.a)(t,"items")),(function(e){var t=[];e.forEach((function(e){t.unshift(e.data())})),p(!0),y(t)}));case 2:case"end":return e.stop()}}),null,null,null,Promise)},style:[ze.actioncard,ze.actioncardlist],children:[Object(T.jsx)(b.a,{size:25,color:"white",name:"tasks"}),Object(T.jsx)(E,{style:{color:"white"},children:"Liste"})]})]}),Object(T.jsxs)(B,{style:{height:K.a.get("window").height-190},children:[f&&Object(T.jsx)(B,{style:{paddingBottom:75},children:m?Object(T.jsx)(re,{items:m,openList:f,setOpenList:p}):Object(T.jsx)(E,{children:"R\xe9cup\xe9ration des donn\xe9es..."})}),Object(T.jsx)(fe,{setItems:y,setOpenList:p,openSearchModal:a,setOpenSearchModal:d}),Object(T.jsx)(je,{openAddModal:o,setOpenAddModal:c})]})]})})})}var ze=S.a.create({container:{display:"flex",flexDirection:"column",alignItems:"center",flex:1,paddingTop:20,paddingBottom:50},title:{fontSize:15,fontWeight:"bold",marginVertical:30,marginHorizontal:20},actions:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"space-around"},actioncard:{width:100,height:100,borderWidth:1,borderRadius:25,display:"flex",alignItems:"center",justifyContent:"center"},actioncardadd:{borderColor:"#0E131F",backgroundColor:"#0E131F"},actioncardsearch:{borderColor:"#38405F",backgroundColor:"#38405F"},actioncardlist:{borderColor:"#FF0035",backgroundColor:"#FF0035"}});function Ie(e){var t=e.item,n=e.openItemDetails,r=e.setOpenItemDetails,o=x(),c=Object(O.useState)(t.clientNote?t.clientNote:""),i=l()(c,2),s=i[0],a=i[1],d=Object(O.useState)(""),j=l()(d,2),h=j[0],f=j[1],p=Object(G.e)();return Object(T.jsxs)(ie,{open:n,setOpen:r,children:[Object(T.jsxs)(B,{style:Re.modalBlock,children:[Object(T.jsx)(E,{style:Re.modalText,children:"Num\xe9ro de bon:"}),Object(T.jsx)(E,{style:{fontSize:45,fontWeight:"bold"},children:t.itemId})]}),Object(T.jsxs)(B,{style:Re.modalBlock,children:[Object(T.jsx)(E,{style:{fontSize:35,fontWeight:"700"},children:t.clientName}),Object(T.jsxs)(E,{style:Re.modalText,children:["Num\xe9ro de t\xe9l\xe9phone: ",t.clientPhoneNumber]}),Object(T.jsxs)(E,{style:Re.modalText,children:["Date d'entr\xe9e: ",t.createdAt]})]}),Object(T.jsxs)(B,{style:Re.modalBlock,children:[Object(T.jsx)(E,{style:{fontWeight:"bold",fontSize:22},children:t.model}),t.serialNumber&&Object(T.jsxs)(E,{style:Re.modalText,children:["Num\xe9ro de s\xe9rie: ",t.serialNumber]})]}),Object(T.jsxs)(B,{style:[Re.modalBlock],children:[Object(T.jsxs)(B,{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:[Object(T.jsx)(E,{style:Re.modalText,children:"Etat:"}),Object(T.jsx)(E,{style:[Re.modalText,{backgroundColor:"red",color:"white",marginLeft:5,paddingHorizontal:3}],children:t.status})]}),t.prestation&&Object(T.jsx)(B,{children:Object(T.jsxs)(E,{style:Re.modalText,children:["Prestation: ",t.prestation," DZD"]})})]}),t.diagnostic&&Object(T.jsxs)(B,{style:Re.modalBlock,children:[Object(T.jsx)(E,{style:Re.modalText,children:"Diagnostique:"}),Object(T.jsx)(E,{style:Re.modalText,children:t.diagnostic})]}),Object(T.jsxs)(B,{style:Re.modalBlock,children:[Object(T.jsx)(E,{style:Re.modalText,children:"Vous pouvez laisser une note au r\xe9parateur"}),Object(T.jsxs)(B,{style:{marginVertical:5},children:[Object(T.jsx)(X.a,{value:s,onChangeText:function(e){return a(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,color:"light"===o?"#001":"white",borderColor:"light"===o?"#001":"white",borderWidth:1}}),Object(T.jsx)(Y.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s||!t.itemId){e.next=5;break}return e.next=3,u.a.awrap(Object(G.i)(Object(G.b)(p,"items",t.itemId),{clientNote:s}));case 3:f("Successfully submitted your note."),setTimeout((function(){f("")}),3e3);case 5:case"end":return e.stop()}}),null,null,null,Promise)},style:{position:"absolute",right:10,top:8},children:Object(T.jsx)(b.a,{name:"send",size:25,color:"green"})}),h.length>0&&Object(T.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:8}})]})]})]})}var Re=S.a.create({modalText:{fontSize:15},modalBlock:{margin:30}});function Te(e){e.navigation;var t=x(),n=Object(G.e)(),r=Object(O.useState)(""),o=l()(r,2),c=o[0],i=o[1],s=Object(O.useState)(""),a=l()(s,2),d=a[0],j=a[1],h=Object(O.useState)(""),f=l()(h,2),p=f[0],g=f[1],m=Object(O.useState)(!1),y=l()(m,2),v=y[0],w=y[1],S=Object(O.useState)(),C=l()(S,2),P=C[0],z=C[1];return Object(T.jsxs)(B,{style:De.container,children:[Object(T.jsx)(E,{style:De.title,children:"Biyou Repair"}),Object(T.jsxs)(B,{style:De.searchBar,children:[p.length>1&&Object(T.jsx)(E,{style:De.error,children:p}),Object(T.jsx)(de,{placeholder:"num\xe9ro de bon - exemple: 22A008",value:d,setValue:j,condition:p.length>0&&!d}),Object(T.jsx)(de,{placeholder:"nom sur le bon - exemple: Mohamed Mohamed",value:c,setValue:i,condition:p.length>0&&!c}),Object(T.jsx)(B,{style:De.buttoncontainer,children:Object(T.jsx)(B,{style:{display:"flex",justifyContent:"center",alignItems:"center",marginHorizontal:"auto",marginVertical:4,height:50,width:50,borderRadius:50,backgroundColor:"light"===t?"#001":"white"},children:Object(T.jsx)(k.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c&&d?Object(G.f)(Object(G.b)(n,"items",d.toUpperCase()),(function(e){e.exists()?e.data().clientName.toLowerCase()===c.toLowerCase()?(z(e.data()),w(!0),g(""),j(""),i("")):(g("Veuillez entrer le nom affich\xe9 sur le bon!"),setTimeout((function(){g("")}),3e3)):(g("Ce bon n'existe pas!"),setTimeout((function(){g("")}),3e3))})):(g("Champs obligatoire!"),setTimeout((function(){g("")}),3e3));case 1:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(T.jsx)(b.a,{size:30,name:"search",color:"light"===t?"white":"#001"})})})})]}),v&&P&&Object(T.jsx)(Ie,{item:P,openItemDetails:v,setOpenItemDetails:w})]})}var De=S.a.create({container:{height:"100%",display:"flex",flex:1,alignItems:"center",paddingTop:20},title:{fontSize:35,fontWeight:"bold",marginVertical:30,marginHorizontal:20},searchBar:{width:"100%",flex:1,justifyContent:"center"},buttoncontainer:{display:"flex",justifyContent:"center",alignItems:"center"},error:{backgroundColor:"#dd1111",color:"white",paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"}}),Ve=n(93),Ne=function(){var e,t=Object(q.c)(ye).user,n=Object(q.b)(),r=Object(J.c)(),o=Object(G.e)();Object(O.useEffect)((function(){t&&t.uid&&Object(G.f)(Object(G.b)(o,"custom",t.uid),(function(e){n(Se(e.data()))}))}),[]);return Object(T.jsx)(T.Fragment,{children:t&&Object(T.jsxs)(B,{children:[Object(T.jsxs)(B,{style:{marginVertical:50,display:"flex",justifyContent:"center",alignItems:"center"},children:["web"!==M.a.OS&&null!=(e=t.photoURL)&&e.includes(".svg")?Object(T.jsx)(B,{style:{backgroundColor:"transparent"},children:Object(T.jsx)(Ve.SvgUri,{uri:t.photoURL,width:100,height:100,style:{borderRadius:50}})}):Object(T.jsx)(H.a,{source:{uri:t.photoURL},style:{borderRadius:50,width:100,height:100}}),Object(T.jsx)(E,{style:{fontSize:20},children:t.displayName})]}),Object(T.jsxs)(B,{style:{margin:30},children:[Object(T.jsxs)(E,{style:{fontSize:15,display:"flex",flexDirection:"row"},children:[Object(T.jsx)(E,{style:{fontWeight:"bold",marginRight:5},children:"Email:"})," ",t.email]}),t.role&&Object(T.jsxs)(E,{style:{fontSize:15,display:"flex",flexDirection:"row"},children:[Object(T.jsx)(E,{style:{fontWeight:"bold",marginRight:5},children:"R\xf4le:"})," ",t.role]})]}),t.items&&t.items.length>0&&Object(T.jsx)(B,{style:{margin:30},children:t.items.map((function(e){return Object(T.jsxs)(B,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},children:[Object(T.jsx)(E,{children:e.itemId}),Object(T.jsx)(E,{children:e.clientName}),Object(T.jsx)(E,{children:e.model}),Object(T.jsx)(E,{children:e.status})]},e.itemId)}))}),Object(T.jsx)(ce,{title:"Se d\xe9connecter",clickHandler:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Object(J.h)(r).then((function(){return n(ke())}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},iconName:"sign-out",iconPosition:"after"})]})})};function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=S.a.create({container:{backgroundColor:"#211",borderRadius:25,display:"flex",padding:20},error:{backgroundColor:"#dd1111",color:"white",paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"}}),Be=function(e){var t=e.setRegisterOpen,n=x(),r=Object(O.useState)(""),o=l()(r,2),c=o[0],i=o[1],s=Object(O.useState)(""),a=l()(s,2),d=a[0],j=a[1],h=Object(O.useState)(!1),f=l()(h,2),p=f[0],g=f[1],m=Object(O.useState)(""),y=l()(m,2),v=y[0],w=y[1],S=Object(q.c)(ye).user,C=Object(q.b)(),P=Object(J.c)();Object(O.useEffect)((function(){S?t(!1):P.currentUser&&(C(we(P.currentUser)),t(!1))}),[]);return Object(T.jsxs)(B,{style:Ee.container,children:[v.length>1&&Object(T.jsx)(E,{style:Ee.error,children:v}),Object(T.jsx)(de,{placeholder:"email",value:c,setValue:i,condition:v.length>1&&!c}),Object(T.jsxs)(B,{style:We({position:"relative",display:"flex",flexDirection:"row",justifyContent:"space-between",marginHorizontal:15,marginVertical:4,padding:10,borderRadius:15},v.length>1&&!d?{borderColor:"#dd1111",borderWidth:2}:{borderColor:"#1b1f23",borderWidth:1}),children:[Object(T.jsx)(X.a,{style:{flex:9,color:"light"===n?"#001":"white"},placeholder:"mot de passe",secureTextEntry:!p,onChangeText:function(e){return j(e)}}),Object(T.jsx)(k.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},onPress:function(){return g(!p)},children:p?Object(T.jsx)(b.a,{style:{color:"light"===n?"#001":"white"},size:15,name:"eye"}):Object(T.jsx)(b.a,{style:{color:"light"===n?"#001":"white"},size:15,name:"eye-slash"})})]}),Object(T.jsx)(ce,{title:"S'identifier",clickHandler:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c&&d?Object(J.g)(P,c,d).then((function(e){C(we(e.user)),t(!1)})).catch((function(e){w("Impossible de se connecter!"),setTimeout((function(){w("")}),3e3)})):(w("Champs obligatoir!"),setTimeout((function(){w("")}),3e3));case 1:case"end":return e.stop()}}),null,null,null,Promise)}})]})};function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var He=S.a.create({container:{backgroundColor:"#211",borderRadius:25,display:"flex",padding:20},error:{backgroundColor:"#dd1111",color:"white",paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"}}),Me=function(e){var t=e.setRegisterOpen,n=x(),r=Object(O.useState)(""),o=l()(r,2),c=o[0],i=o[1],s=Object(O.useState)(""),a=l()(s,2),d=a[0],j=a[1],h=Object(O.useState)(""),f=l()(h,2),p=f[0],g=f[1],m=Object(O.useState)(""),y=l()(m,2),v=y[0],w=y[1],S=Object(O.useState)(!1),C=l()(S,2),P=C[0],z=C[1],I=Object(q.c)(ye).user,R=Object(q.b)(),D=Object(J.c)(),V=Object(G.e)();Object(O.useEffect)((function(){I?t(!1):D.currentUser&&(R(we(D.currentUser)),t(!1))}),[]);return Object(T.jsxs)(B,{style:He.container,children:[v.length>1&&Object(T.jsx)(E,{style:He.error,children:v}),Object(T.jsx)(de,{placeholder:"nom d'utilisateur",value:c,setValue:i,condition:v.length>1&&!c}),Object(T.jsx)(de,{placeholder:"email",value:d,setValue:j,condition:v.length>1&&!d}),Object(T.jsxs)(B,{style:Ue({position:"relative",display:"flex",flexDirection:"row",justifyContent:"space-between",marginHorizontal:15,marginVertical:4,padding:10,borderRadius:15},v.length>1&&!p?{borderColor:"#dd1111",borderWidth:2}:{borderColor:"#1b1f23",borderWidth:1}),children:[Object(T.jsx)(X.a,{style:{flex:9,color:"light"===n?"#001":"white"},placeholder:"mot de passe",secureTextEntry:!P,onChangeText:function(e){return g(e)}}),Object(T.jsx)(k.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},onPress:function(){return z(!P)},children:P?Object(T.jsx)(b.a,{style:{color:"light"===n?"#001":"white"},size:15,name:"eye"}):Object(T.jsx)(b.a,{style:{color:"light"===n?"#001":"white"},size:15,name:"eye-slash"})})]}),Object(T.jsx)(ce,{title:"Cr\xe9er un compte",clickHandler:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c&&d&&p?Object(J.a)(D,d,p).then((function(e){Object(J.j)(e.user,{displayName:c,photoURL:"https://avatars.dicebear.com/api/gridy/"+c+".svg"}).then((function(){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(Object(G.h)(Object(G.b)(V,"custom",e.user.uid),{userId:e.user.uid,username:e.user.displayName,role:"basic"}));case 2:R(we(e.user)),t(!1);case 4:case"end":return n.stop()}}),null,null,null,Promise)}))})).catch((function(e){w("Un probl\xe8me avec vos entr\xe9es!"),setTimeout((function(){w("")}),3e3)})):(w("Champs obligatoir!"),setTimeout((function(){w("")}),3e3));case 1:case"end":return e.stop()}}),null,null,null,Promise)}})]})},Fe=function(e){var t,n=e.setEditOpen,r=Object(q.c)(ye).user,o=Object(q.b)(),c=Object(J.c)(),i=Object(O.useState)(""),s=l()(i,2),a=s[0],d=s[1],j=Object(O.useState)(""),h=l()(j,2),f=h[0],p=h[1],g=Object(O.useState)(r&&r.displayName?r.displayName:""),x=l()(g,2),m=x[0],y=x[1],v=Object(O.useState)(r&&r.email?r.email:""),w=l()(v,2),S=w[0],k=w[1];return Object(T.jsx)(T.Fragment,{children:r&&Object(T.jsxs)(B,{children:[Object(T.jsx)(Y.a,{style:{position:"absolute",top:0,right:10,borderRadius:50,padding:10,elevation:10,zIndex:50,backgroundColor:"green"},onPress:function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c.currentUser&&(m&&m!==c.currentUser.displayName&&Object(J.j)(c.currentUser,{displayName:m}).then((function(){return n(!1)})),S&&S!==c.currentUser.email&&Object(J.i)(c.currentUser,S).then((function(){return n(!1)})));case 1:case"end":return e.stop()}}),null,null,null,Promise),n(!1)},children:Object(T.jsx)(b.a,{style:{color:"white",fontWeight:"bold",textAlign:"center"},size:25,name:"check"})}),Object(T.jsx)(B,{style:{marginVertical:50,display:"flex",justifyContent:"center",alignItems:"center"},children:"web"!==M.a.OS&&null!=(t=r.photoURL)&&t.includes(".svg")?Object(T.jsx)(B,{style:{backgroundColor:"transparent"},children:Object(T.jsx)(Ve.SvgUri,{uri:r.photoURL,width:100,height:100,style:{borderRadius:50}})}):Object(T.jsx)(H.a,{source:{uri:r.photoURL},style:{borderRadius:50,width:100,height:100}})}),Object(T.jsx)(B,{style:{marginLeft:30,marginVertical:10},children:Object(T.jsxs)(E,{style:{fontSize:15,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(T.jsx)(E,{style:{fontWeight:"bold",marginRight:5},children:"Nom:"})," ",Object(T.jsx)(de,{value:m,setValue:y,placeholder:"Nom du client"})]})}),Object(T.jsx)(B,{style:{marginLeft:30,marginVertical:10},children:Object(T.jsxs)(E,{style:{fontSize:15,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(T.jsx)(E,{style:{fontWeight:"bold",marginRight:5},children:"Email:"})," ",Object(T.jsx)(de,{value:S,setValue:k,placeholder:"Addresse email du client"})]})}),Object(T.jsxs)(B,{style:{marginLeft:30,marginVertical:10},children:[f.length>0&&Object(T.jsx)(E,{style:{color:"green",fontWeight:"bold"},children:f}),Object(T.jsx)(E,{style:{fontWeight:"bold",marginRight:5},children:"Votre addresse email n'est pas v\xe9rif\xe9e."}),Object(T.jsx)(Y.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c.currentUser&&Object(J.e)(c.currentUser).then((function(){p("Un email de v\xe9rification vous a \xe9t\xe9 envoy\xe9!"),setTimeout((function(){p("")}),3e3)}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(T.jsxs)(E,{style:{color:"gray",textDecorationLine:"underline"},children:["Envoyez un email de v\xe9rification \xe0 ",r.email]})})]}),Object(T.jsxs)(B,{style:{marginLeft:30,marginVertical:10},children:[a.length>0&&Object(T.jsx)(E,{style:{color:"green",fontWeight:"bold"},children:a}),Object(T.jsx)(E,{style:{fontWeight:"bold",marginRight:5},children:"Vous avez oubliez votre mot de passe?"}),Object(T.jsx)(Y.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c.currentUser&&c.currentUser.email&&Object(J.f)(c,c.currentUser.email).then((function(){d("Email de r\xe9initialisation de mot de passe envoy\xe9 avec succ\xe8s!"),setTimeout((function(){d("")}),3e3)}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(T.jsx)(E,{style:{color:"gray",textDecorationLine:"underline"},children:"Envoyez un email de r\xe9initialisation de mot de passe"})})]}),Object(T.jsxs)(B,{style:{marginLeft:30,marginVertical:10},children:[Object(T.jsx)(E,{style:{fontWeight:"bold",marginRight:5},children:"Voulez vous supprimer votre compte?"}),Object(T.jsx)(E,{children:"Cela supprimera tous vos donn\xe9es. Vos donn\xe9es seront irr\xe9cup\xe9rables."}),Object(T.jsx)(Y.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c.currentUser&&Object(J.b)(c.currentUser).then((function(){o(ke())}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(T.jsx)(E,{style:{color:"red",fontWeight:"bold",textDecorationLine:"underline"},children:"SUPPRIMER MON COMPTE"})})]})]})})};function qe(){var e=Object(q.c)(ye).user,t=Object(q.b)(),n=Object(G.e)(),r=Object(O.useState)(!1),o=l()(r,2),c=o[0],i=o[1],s=Object(O.useState)(!1),a=l()(s,2),d=a[0],u=a[1],b=Object(O.useState)(!1),j=l()(b,2),h=j[0],f=j[1],p=Object(O.useState)(!1),g=l()(p,2),x=g[0],m=g[1];return Object(O.useEffect)((function(){e&&e.uid&&Object(G.f)(Object(G.b)(n,"custom",e.uid),(function(e){t(Se(e.data()))}))}),[]),Object(T.jsxs)(B,{style:Ge.container,children:[e?Object(T.jsx)(Ne,{}):Object(T.jsxs)(B,{style:Ge.block,children:[Object(T.jsx)(E,{style:Ge.loginCtaText,children:"Avoir un compte vous permets de suivre votre produit et recevoir une notification d\xe8s qu'il est r\xe9par\xe9."}),Object(T.jsx)(ce,{title:"S'identifier",clickHandler:function(){return i(!0)},iconName:"sign-in",iconPosition:"after"}),Object(T.jsx)(ce,{title:"Cr\xe9er un compte",clickHandler:function(){return u(!0)},iconName:"user-plus",iconPosition:"after"}),Object(T.jsx)($.b,{overlayStyle:Ge.overlay,isVisible:c,onBackdropPress:function(){return i(!c)},children:Object(T.jsx)(Be,{setRegisterOpen:u})}),Object(T.jsx)($.b,{overlayStyle:Ge.overlay,isVisible:d,onBackdropPress:function(){return u(!d)},children:Object(T.jsx)(Me,{setRegisterOpen:u})})]}),e&&Object(T.jsxs)($.c,{buttonStyle:{backgroundColor:"black"},containerStyle:{bottom:80},isOpen:x,icon:{name:"edit",color:"#fff"},openIcon:{name:"close",color:"#fff"},onOpen:function(){return m(!0)},onClose:function(){return m(!1)},children:[Object(T.jsx)($.c.Action,{style:{bottom:80},buttonStyle:{backgroundColor:"black"},icon:{name:"add",color:"#fff"},title:"Ajouter un produit",titleStyle:{position:"relative",bottom:80},onPress:function(){m(!1)}}),Object(T.jsx)($.c.Action,{style:{bottom:80},buttonStyle:{backgroundColor:"black"},icon:{name:"edit",color:"#fff"},title:"Modifier votre profil",titleStyle:{position:"relative",bottom:80},onPress:function(){m(!1),f(!0)}})]}),h&&Object(T.jsx)(ie,{open:h,setOpen:f,children:Object(T.jsx)(Fe,{setEditOpen:f})})]})}var Ge=S.a.create({container:{display:"flex",flex:1,paddingTop:20},block:{marginHorizontal:20,marginTop:50},loginCtaText:{textAlign:"center",fontSize:18,marginVertical:10},overlay:{borderWidth:0,borderRadius:25,width:"90%",backgroundColor:"transparent"}});function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=Object(F.a)();var Ye=S.a.create({shadow:{shadowColor:"#7F5DF0",shadowOffset:{width:0,height:10},shadowOpacity:.25,shadowRadius:3.5,elevation:5}});function Ze(e){return Object(T.jsx)(b.a,Ke({size:30,style:{marginBottom:-3}},e))}var Xe=function(){var e=Object(J.c)(),t=Object(G.e)(),n=Object(q.c)(ye).user,r=Object(q.b)(),o=O.useState(!1),c=l()(o,2),i=c[0],s=c[1];O.useEffect((function(){Object(J.d)(e,(function(e){r(e?we(e):ke())}))}),[]);var a=O.useCallback((function(){var e;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n||!n.uid){r.next=7;break}return r.next=3,u.a.awrap(Object(G.c)(Object(G.b)(t,"custom",n.uid)));case 3:(e=r.sent).exists()&&"admin"===e.data().role?s(!0):s(!1),r.next=8;break;case 7:s(!1);case 8:case"end":return r.stop()}}),null,null,null,Promise)}),[n]);return O.useEffect((function(){a()}),[a]),Object(T.jsxs)(Qe.Navigator,{initialRouteName:"Home",screenOptions:{tabBarActiveTintColor:"#001",tabBarActiveBackgroundColor:"#aaf",tabBarItemStyle:{borderRadius:50},tabBarInactiveTintColor:"#aaf",tabBarShowLabel:!1,tabBarStyle:Ke({position:"absolute",bottom:20,left:15,right:15,backgroundColor:"white",borderRadius:50,height:60},Ye.shadow)},children:[Object(T.jsx)(Qe.Screen,{name:"Home",component:Te,options:function(e){e.navigation;return{title:"Home",tabBarIcon:function(e){var t=e.color;return Object(T.jsx)(Ze,{name:"search",color:t})},headerShown:!1}}}),i&&Object(T.jsx)(Qe.Screen,{name:"Admin",component:Pe,options:{title:"Admin",headerShown:!1,tabBarIcon:function(e){var t=e.color;return Object(T.jsx)(Ze,{name:"cogs",color:t})}}}),Object(T.jsx)(Qe.Screen,{name:"Account",component:qe,options:{title:"Account",headerShown:!1,tabBarIcon:function(e){var t,r=e.color;return n?"web"!==M.a.OS&&null!=(t=n.photoURL)&&t.includes(".svg")?Object(T.jsx)(B,{style:{backgroundColor:"transparent"},children:Object(T.jsx)(Ve.SvgUri,{uri:n.photoURL,width:35,height:35,style:{borderRadius:50}})}):Object(T.jsx)(H.a,{source:{uri:n.photoURL},style:{borderRadius:50,width:35,height:35}}):Object(T.jsx)(Ze,{name:"user",color:r})}}})]})},$e={prefixes:[n(244).a("/")],config:{screens:{Root:{screens:{Home:{screens:{HomeScreen:"home"}},Account:{screens:{AccountScreen:"account"}},Admin:{screens:{AdminScreen:"admin"}}}},NotFound:"*"}}};function _e(e){var t=e.colorScheme;return Object(T.jsx)(m.a,{linking:$e,theme:"dark"===t?y.a:v.a,children:Object(T.jsx)(tt,{})})}var et=Object(w.a)();function tt(){return Object(T.jsxs)(et.Navigator,{children:[Object(T.jsx)(et.Screen,{name:"Root",component:Xe,options:{headerShown:!1}}),Object(T.jsx)(et.Screen,{name:"NotFound",component:L,options:{title:"Oops!"}})]})}var nt=n(52),rt=n(106),ot=n(241),ct=Object(nt.combineReducers)({user:Ce}),it=[rt.a],st=Object(nt.createStore)(ct,{},Object(ot.composeWithDevTools)(nt.applyMiddleware.apply(void 0,it))),at={apiKey:"AIzaSyBM5PP4iO6svYbv6ekcB9A7Tx-idsQdlg0",authDomain:"biyou-repair.firebaseapp.com",projectId:"biyou-repair",storageBucket:"biyou-repair.appspot.com",messagingSenderId:"343143569769",appId:"1:343143569769:web:168a7dc30ce967e8dd45f8",measurementId:"G-74LH66PR7V"},lt=n(150);if(r.a.ignoreLogs(["Setting a timer"]),r.a.ignoreLogs(["AsyncStorage has been extracted from react-native core and will be removed in a future release"]),0===Object(lt.a)().length)Object(lt.b)(at);function dt(){var e=function(){var e=Object(O.useState)(!1),t=l()(e,2),r=t[0],o=t[1];return Object(O.useEffect)((function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h.b(),e.next=4,u.a.awrap(j.b(p(p({},b.a.font),{},{"space-mono":n(266)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,o(!0),h.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),r}(),t=x();return e?Object(T.jsx)(c.b,{children:Object(T.jsxs)(q.a,{store:st,children:[Object(T.jsx)(_e,{colorScheme:t}),Object(T.jsx)(o.a,{})]})}):null}},250:function(e,t,n){e.exports=n(333)},266:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"},325:function(e,t){}},[[250,1,2]]]);
//# sourceMappingURL=app.bf7518d6.chunk.js.map