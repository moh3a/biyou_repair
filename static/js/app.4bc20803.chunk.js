(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{243:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ot}));var r=n(102),o=n(244),c=n(247),i=n(4),s=n.n(i),a=n(6),l=n.n(a),d=n(10),u=n.n(d),b=n(179),j=n(362),h=n(152),O=n(0);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=n(114);function g(){return Object(x.a)()}var m=n(358),y=n(359),w=n(130),v=n(361),k=n(2),C=n(18),S=n(12),P=n.n(S),z=n(20),I=n(3),R={light:{text:"#393E41",background:"#E7E5DF"},dark:{text:"#393E41",background:"#E7E5DF"},black:"#393E41",gray:"#D3D0CB",green:"#44BBA4",white:"#E7E5DF",yellow:"#E7BB41",violet:"#38405F",red:"#FF0035"},D=n(1),T=["style","lightColor","darkColor"],V=["style","lightColor","darkColor"];function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){var n=g(),r=e[n];return r||R[n][t]}function W(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=P()(e,T),c=E({light:n,dark:r},"text");return Object(D.jsx)(z.a,N({style:[{color:c},t]},o))}function L(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=P()(e,V),c=E({light:n,dark:r},"background");return Object(D.jsx)(I.a,N({style:[{backgroundColor:c},t]},o))}function B(e){var t=e.navigation;return Object(O.useEffect)((function(){t.navigate("Root")}),[]),Object(D.jsxs)(L,{style:U.container,children:[Object(D.jsx)(W,{style:U.title,children:"404 - NOT FOUND"}),Object(D.jsx)(C.a,{onPress:function(){return t.replace("Root")},style:U.link,children:Object(D.jsx)(W,{style:U.linkText,children:"Lost? Go back home!"})})]})}var U=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:20},title:{color:R.white,fontSize:35,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:15,color:R.white}}),H=n(25),M=n(5),F=n(360),q=n(34),G=n(13),J=n(40),K=n(21),Q=n(44),Y=n(28),Z=n(57),X=n(43),$=n(48),_=function(e){var t=e.substring(0,3),n=parseInt(e.substring(3)),r="",o="",c="22"+function(){var e="";switch((new Date).getMonth()){case 0:e="A";break;case 1:e="B";break;case 2:e="C";break;case 3:e="D";break;case 4:e="E";break;case 5:e="F";break;case 6:e="G";break;case 7:e="H";break;case 8:e="I";break;case 9:e="J";break;case 10:e="K";break;case 11:e="L";break;default:e=""}return e}();return t===c?(++n>=100?r=n.toString():100>n&&n>=10?r="0".concat(n.toString()):10>n&&(r="00".concat(n.toString())),o=t+r):o=c+"001",o},ee=function(){var e=6e4*(new Date).getTimezoneOffset(),t=new Date(Date.now()-e).toISOString().slice(0,-1);return t.substring(0,10)+" "+t.substring(11,16)},te=["En attente","R\xe9par\xe9","Devis","Retour au client","Attente de pi\xe8ces"];function ne(e){var t=e.item,n=e.setItem,r=e.openAdminItemDetails,o=e.setOpenAdminItemDetails,c=(g(),Object(O.useState)("")),i=l()(c,2),s=i[0],a=i[1],d=Object(O.useState)(!!t.finishedAt),j=l()(d,2),h=j[0],p=j[1],f=Object(O.useState)(te.findIndex((function(e){return e===t.status}))),x=l()(f,2),m=x[0],y=x[1],w=Object(O.useState)(t.clientPhoneNumber?t.clientPhoneNumber:""),v=l()(w,2),k=v[0],C=v[1],S=Object(O.useState)(t.model?t.model:""),P=l()(S,2),z=P[0],I=P[1],T=Object(O.useState)(t.serialNumber?t.serialNumber:""),V=l()(T,2),A=V[0],N=V[1],E=Object(O.useState)(t.prestation?t.prestation:0),B=l()(E,2),U=B[0],H=B[1],M=Object(O.useState)(t.diagnostic?t.diagnostic:""),F=l()(M,2),q=F[0],J=F[1],K=Object(G.e)(),_=Object(O.useCallback)((function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m||!t.itemId){e.next=3;break}return e.next=3,u.a.awrap(Object(G.i)(Object(G.b)(K,"items",t.itemId),{status:te[m]}));case 3:case"end":return e.stop()}}),null,null,null,Promise)}),[m]);Object(O.useEffect)((function(){_()}),[_]);var ne=Object(O.useCallback)((function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.itemId){e.next=8;break}if(!h){e.next=6;break}return e.next=4,u.a.awrap(Object(G.i)(Object(G.b)(K,"items",t.itemId),{finishedAt:ee()}));case 4:e.next=8;break;case 6:return e.next=8,u.a.awrap(Object(G.i)(Object(G.b)(K,"items",t.itemId),{finishedAt:null}));case 8:case"end":return e.stop()}}),null,null,null,Promise)}),[h]);Object(O.useEffect)((function(){ne()}),[ne]);var oe=function(e,n){var r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!e||!t.itemId){o.next=6;break}return r={},o.next=4,u.a.awrap(Object(G.i)(Object(G.b)(K,"items",t.itemId),Object.defineProperty(r,e,{value:"string"===typeof n?n.toLowerCase():n,configurable:!0,writable:!0,enumerable:!0})));case 4:a(e),setTimeout((function(){a("")}),3e3);case 6:case"end":return o.stop()}}),null,null,null,Promise)};return Object(D.jsx)(L,{style:re.container,children:Object(D.jsx)(Z.a,{animationType:"slide",transparent:!0,visible:r,onRequestClose:function(){o(!r),n(void 0)},children:Object(D.jsx)(Q.a,{children:Object(D.jsxs)(L,{style:re.centeredView,children:[Object(D.jsx)(Y.a,{style:re.button,onPress:function(){o(!r),n(void 0)},children:Object(D.jsx)(b.a,{style:{color:R.white,fontWeight:"bold",textAlign:"center"},size:25,name:"close"})}),Object(D.jsxs)(L,{style:re.modalView,children:[Object(D.jsxs)(L,{style:re.modalBlock,children:[Object(D.jsx)(W,{style:re.modalText,children:"Num\xe9ro de bon:"}),Object(D.jsx)(W,{style:{fontSize:45,fontWeight:"bold"},children:t.itemId})]}),Object(D.jsxs)(L,{style:re.modalBlock,children:[Object(D.jsx)(W,{style:re.modalText,children:"Nom du client:"}),Object(D.jsx)(W,{style:{fontSize:30,fontWeight:"600"},children:t.clientName})]}),Object(D.jsxs)(L,{style:re.modalBlock,children:[Object(D.jsxs)(W,{style:re.modalText,children:["Date d'entr\xe9e: ",t.createdAt]}),Object(D.jsxs)(L,{children:[Object(D.jsx)(W,{style:re.modalText,children:"Num\xe9ro de t\xe9l\xe9phone:"}),Object(D.jsxs)(L,{style:{marginVertical:5},children:[Object(D.jsx)(X.a,{value:k,onChangeText:function(e){return C(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:R.black,color:R.white,borderColor:R.white,borderWidth:1}}),Object(D.jsx)(Y.a,{onPress:function(){return oe("phoneNumber",k)},style:{position:"absolute",right:10,top:10},children:Object(D.jsx)(b.a,{name:"save",size:25,color:"orange"})}),"phoneNumber"===s&&Object(D.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]})]}),Object(D.jsxs)(L,{style:re.modalBlock,children:[Object(D.jsxs)(L,{children:[Object(D.jsx)(W,{style:re.modalText,children:"Mod\xe8le:"}),Object(D.jsxs)(L,{style:{marginVertical:5},children:[Object(D.jsx)(X.a,{value:z,onChangeText:function(e){return I(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:R.black,color:R.white,borderColor:R.white,borderWidth:1}}),Object(D.jsx)(Y.a,{onPress:function(){return oe("model",z)},style:{position:"absolute",right:10,top:10},children:Object(D.jsx)(b.a,{name:"save",size:25,color:"orange"})}),"model"===s&&Object(D.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]}),Object(D.jsxs)(L,{children:[Object(D.jsx)(W,{style:re.modalText,children:"Num\xe9ro de s\xe9rie:"}),Object(D.jsxs)(L,{style:{marginVertical:5},children:[Object(D.jsx)(X.a,{value:A,onChangeText:function(e){return N(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:R.black,color:R.white,borderColor:R.white,borderWidth:1}}),Object(D.jsx)(Y.a,{onPress:function(){return oe("serialNumber",A)},style:{position:"absolute",right:10,top:10},children:Object(D.jsx)(b.a,{name:"save",size:25,color:"orange"})}),"serialNumber"===s&&Object(D.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]}),Object(D.jsxs)(L,{children:[Object(D.jsx)(W,{style:re.modalText,children:"Etat:"}),Object(D.jsx)($.b,{buttons:["En attente","R\xe9par\xe9","Devis","Retour au client","Attente de pi\xe8ces"],selectedIndex:m,onPress:function(e){y(e)},containerStyle:{margin:0},selectedButtonStyle:[0===m&&{backgroundColor:R.red},1===m&&{backgroundColor:"green"},2===m&&{backgroundColor:R.violet},3===m&&{backgroundColor:R.red},4===m&&{backgroundColor:R.yellow}],selectedTextStyle:{color:R.white}})]}),Object(D.jsxs)(L,{children:[Object(D.jsx)(W,{style:re.modalText,children:"Prestation:"}),Object(D.jsxs)(L,{style:{marginVertical:5},children:[Object(D.jsx)(X.a,{value:U.toString(),onChangeText:function(e){return H(isNaN(parseFloat(e))?0:parseFloat(e))},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:R.black,color:R.white,borderColor:R.white,borderWidth:1}}),Object(D.jsx)(Y.a,{onPress:function(){return oe("prestation",U)},style:{position:"absolute",right:10,top:10},children:Object(D.jsx)(b.a,{name:"save",size:25,color:"orange"})}),"prestation"===s&&Object(D.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]}),Object(D.jsxs)(L,{children:[Object(D.jsx)(W,{style:re.modalText,children:"Diagnostique"}),Object(D.jsxs)(L,{style:{marginVertical:5},children:[Object(D.jsx)(X.a,{value:q,onChangeText:function(e){return J(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:R.black,color:R.white,borderColor:R.white,borderWidth:1}}),Object(D.jsx)(Y.a,{onPress:function(){return oe("diagnostic",q)},style:{position:"absolute",right:10,top:10},children:Object(D.jsx)(b.a,{name:"send",size:25,color:R.green})}),"diagnostic"===s&&Object(D.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]})]}),t.clientNote&&Object(D.jsxs)(L,{style:re.modalBlock,children:[Object(D.jsx)(W,{style:re.modalText,children:"Note laiss\xe9e:"}),Object(D.jsx)(W,{style:{fontSize:15,fontStyle:"italic"},children:t.clientNote})]}),Object(D.jsxs)(L,{style:re.modalBlock,children:[Object(D.jsx)($.c,{center:!0,title:"Marqu\xe9 comme sortie",checkedColor:R.green,containerStyle:{backgroundColor:R.white},checked:h,onPress:function(){return p(!h)}}),t.finishedAt&&Object(D.jsxs)(W,{style:[re.modalText,{textAlign:"center"}],children:["Sortie le: ",t.finishedAt]})]})]})]})})})})}var re=k.a.create({container:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",flex:1,paddingTop:20},centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:20},button:{position:"absolute",top:5,right:10,borderRadius:50,padding:10,elevation:9,backgroundColor:R.red,zIndex:90},modalView:{width:"100%"},modalText:{fontSize:15},modalBlock:{marginHorizontal:30,marginVertical:20}}),oe=k.a.create({listView:{flex:1,width:"100%",paddingTop:30,paddingBottom:10},buttoncontainer:{display:"flex",justifyContent:"center",alignItems:"center"},button:{display:"flex",justifyContent:"center",alignItems:"center",height:40,width:40,marginVertical:10,borderRadius:50,padding:10,elevation:10,backgroundColor:R.red},textDesc:{overflow:"hidden"}}),ce=function(e){var t=e.items,n=e.openList,r=e.setOpenList,o=Object(O.useState)(),c=l()(o,2),i=c[0],s=c[1],a=Object(O.useState)(!1),d=l()(a,2),u=d[0],j=d[1];return Object(D.jsxs)(L,{style:oe.listView,children:[Object(D.jsx)(L,{style:oe.buttoncontainer,children:Object(D.jsx)(Y.a,{style:oe.button,onPress:function(){return r(!n)},children:Object(D.jsx)(b.a,{style:{color:R.white,fontWeight:"bold",textAlign:"center"},size:20,name:"close"})})}),Object(D.jsx)(L,{style:{width:"100%",display:"flex"},children:t.map((function(e){return Object(D.jsx)(C.a,{onPress:function(){return function(e){j(!0),s(e)}(e)},children:Object(D.jsxs)(L,{style:{borderRadius:10,backgroundColor:R.gray,width:K.a.get("window").width-10,marginHorizontal:"auto",marginVertical:8,display:"flex",flexDirection:"row",paddingVertical:10,paddingHorizontal:5,shadowColor:R.black,shadowOffset:{width:0,height:1},shadowOpacity:.3,shadowRadius:10},children:[Object(D.jsx)(L,{style:{flex:1,width:"100%",backgroundColor:"transparent",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(D.jsx)(W,{children:e.itemId})}),Object(D.jsxs)(L,{style:{flex:6,backgroundColor:"transparent",width:"100%",display:"flex",flexDirection:"column"},children:[Object(D.jsxs)(L,{style:{flex:1,display:"flex",backgroundColor:"transparent",flexDirection:"row",paddingVertical:5},children:[Object(D.jsx)(L,{style:{flex:1,backgroundColor:"transparent",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(D.jsx)(W,{style:{fontWeight:"bold",textAlign:"center"},children:e.clientName})}),Object(D.jsx)(L,{style:{flex:1,backgroundColor:"transparent",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(D.jsx)(W,{children:e.model})})]}),Object(D.jsxs)(L,{style:{borderTopWidth:1,borderTopColor:R.yellow,flex:1,display:"flex",flexDirection:"row",paddingVertical:5,backgroundColor:"transparent"},children:[Object(D.jsx)(L,{style:{flex:1,backgroundColor:"transparent",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(D.jsx)(W,{style:{fontStyle:"italic"},children:e.clientPhoneNumber})}),Object(D.jsx)(L,{style:{backgroundColor:"transparent",flex:1,justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(D.jsx)(W,{style:[{color:R.white,fontWeight:"bold",paddingHorizontal:3},"En attente"===e.status&&{backgroundColor:R.red},"R\xe9par\xe9"===e.status&&{backgroundColor:"green"},"Devis"===e.status&&{backgroundColor:R.violet},"Retour au client"===e.status&&{backgroundColor:R.red},"Attente de pi\xe8ces"===e.status&&{backgroundColor:R.yellow}],children:e.status})})]})]})]})},e.itemId)}))}),u&&i&&Object(D.jsx)(ne,{item:i,setItem:s,openAdminItemDetails:u,setOpenAdminItemDetails:j})]})},ie=k.a.create({container:{backgroundColor:"transparent",display:"flex",justifyContent:"center",alignItems:"center"},button:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:4,marginHorizontal:"auto",minWidth:"50%",backgroundColor:R.green,borderColor:R.green,borderWidth:1,borderStyle:"solid",borderRadius:15}}),se=function(e){var t=e.title,n=e.clickHandler,r=e.iconName,o=e.iconPosition;return Object(D.jsx)(L,{style:ie.container,children:Object(D.jsxs)(C.a,{style:ie.button,onPress:n,children:[r&&"before"===o&&Object(D.jsx)(b.a,{size:20,name:r,color:R.white}),Object(D.jsx)(W,{style:{color:R.white,fontSize:16,fontWeight:"bold",padding:10},children:t}),r&&"after"===o&&Object(D.jsx)(b.a,{size:20,name:r,color:R.white})]})})},ae=function(e){var t=e.children,n=e.open,r=e.setOpen;return Object(D.jsx)(L,{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",flex:1,paddingTop:16},children:Object(D.jsx)(Z.a,{animationType:"slide",transparent:!0,visible:n,onRequestClose:function(){r(!n)},children:Object(D.jsx)(L,{style:{flex:1},children:Object(D.jsx)(Q.a,{children:Object(D.jsxs)(L,{style:{height:K.a.get("window").height-20,justifyContent:"center",alignItems:"center",marginTop:20},children:[Object(D.jsx)(Y.a,{style:{position:"absolute",top:5,right:10,borderRadius:50,padding:10,elevation:10,zIndex:50,backgroundColor:R.red},onPress:function(){return r(!n)},children:Object(D.jsx)(b.a,{style:{color:R.white,fontWeight:"bold",textAlign:"center"},size:25,name:"close"})}),Object(D.jsx)(L,{style:{width:"100%"},children:t})]})})})})})};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=k.a.create({container:{backgroundColor:"transparent",marginHorizontal:15,marginVertical:4}}),be=function(e){var t=e.placeholder,n=e.value,r=e.setValue,o=e.condition;return Object(D.jsx)(L,{style:ue.container,children:Object(D.jsx)(X.a,{style:de({padding:10,borderRadius:15,backgroundColor:R.gray,color:R.black},o?{borderColor:R.red,borderWidth:2}:{borderColor:R.black,borderWidth:1}),placeholder:t,placeholderTextColor:"#999",value:n,onChangeText:function(e){return r&&r(e)}})})};function je(e){var t=e.openAddModal,n=e.setOpenAddModal,r=Object(O.useState)(""),o=l()(r,2),c=o[0],i=o[1],s=Object(O.useState)(""),a=l()(s,2),d=a[0],b=a[1],j=Object(O.useState)(""),h=l()(j,2),p=h[0],f=h[1],x=Object(O.useState)(""),g=l()(x,2),m=g[0],y=g[1],w=Object(O.useState)(""),v=l()(w,2),k=v[0],C=v[1],S=Object(G.e)(),P=Object(O.useCallback)((function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Object(G.f)(Object(G.b)(S,"currentId","currentId"),(function(e){e.exists()&&i(_(e.data().id))}));case 1:case"end":return e.stop()}}),null,null,null,Promise)}),[]);Object(O.useEffect)((function(){P()}),[P]);return Object(D.jsxs)(ae,{open:t,setOpen:n,children:[k.length>1&&Object(D.jsx)(W,{style:he.error,children:k}),Object(D.jsxs)(W,{style:he.modalText,children:["Ajouter: ",c]}),Object(D.jsx)(be,{placeholder:"nom du client",value:d,setValue:b,condition:!d}),Object(D.jsx)(be,{placeholder:"num\xe9ro de t\xe9l\xe9phone du client",value:p,setValue:f,condition:!p}),Object(D.jsx)(be,{placeholder:"mod\xe8le du produit",value:m,setValue:y,condition:!m}),Object(D.jsx)(se,{title:"Ajouter",clickHandler:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c&&d&&p&&m)){e.next=11;break}return e.next=3,u.a.awrap(Object(G.h)(Object(G.b)(S,"items",c),{clientName:d.toLowerCase(),clientPhoneNumber:p,itemId:c,model:m,status:"En attente",createdAt:ee()}));case 3:return e.next=5,u.a.awrap(Object(G.h)(Object(G.b)(S,"currentId","currentId"),{id:c}));case 5:n(!1),b(""),f(""),y(""),e.next=12;break;case 11:c?(C("Champs obligatoire!"),setTimeout((function(){C("")}),3e3)):(C("Erreur avec le num\xe9ro de bon"),setTimeout((function(){C("")}),3e3));case 12:case"end":return e.stop()}}),null,null,null,Promise)}})]})}var he=k.a.create({error:{backgroundColor:R.red,color:R.white,paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"},modalText:{marginBottom:15,textAlign:"center"}}),Oe=["","En attente","R\xe9par\xe9","Devis","Retour au client","Attente de pi\xe8ces"],pe=k.a.create({error:{backgroundColor:R.red,color:R.white,paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"},modalText:{marginBottom:15,textAlign:"center"}}),fe=function(e){var t=e.setItems,n=e.setOpenList,r=e.openSearchModal,o=e.setOpenSearchModal,c=Object(G.e)(),i=Object(O.useState)(""),s=l()(i,2),a=s[0],d=s[1],b=Object(O.useState)(""),j=l()(b,2),h=j[0],p=j[1],f=Object(O.useState)(""),x=l()(f,2),g=x[0],m=x[1],y=Object(O.useState)(""),w=l()(y,2),v=w[0],k=w[1],C=Object(O.useState)(""),S=l()(C,2),P=S[0],z=S[1],I=Object(O.useState)(Oe[0]),T=l()(I,2),V=T[0],A=T[1],N=Object(O.useState)(!1),E=l()(N,2),L=E[0],B=E[1];return Object(D.jsxs)(ae,{open:r,setOpen:o,children:[a.length>0&&Object(D.jsx)(W,{style:pe.error,children:a}),Object(D.jsx)(W,{style:pe.modalText,children:"S\xe9l\xe9ctionnez les param\xe8tres de votre requ\xeate"}),Object(D.jsx)(be,{placeholder:"Num\xe9ro de bon",value:h,setValue:p}),Object(D.jsx)(be,{placeholder:"Nom du client",value:g,setValue:m}),Object(D.jsx)(be,{placeholder:"Mod\xe8le du produit",value:v,setValue:k}),Object(D.jsx)(be,{placeholder:"Num\xe9ro de s\xe9rie",value:P,setValue:z}),Object(D.jsx)(Y.a,{onPress:function(){return B(!0)},style:{marginHorizontal:15,marginVertical:4,padding:10,borderRadius:15,backgroundColor:R.gray,borderColor:R.black,borderWidth:1},children:V?Object(D.jsx)(W,{style:{color:R.black},children:V}):Object(D.jsx)(W,{style:{color:"#999"},children:"Etat"})}),Object(D.jsx)($.a,{isVisible:L,children:Oe.map((function(e,t){return Object(D.jsx)($.d,{onPress:function(){A(e),B(!1)},children:Object(D.jsx)($.d.Content,{children:Object(D.jsx)($.d.Title,{children:e.length>0?e:"*"})})},t)}))}),Object(D.jsx)(se,{title:"Chercher",clickHandler:function(){var e,r,i;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=[],h&&e.push(Object(G.j)("itemId","==",h.toLowerCase())),g&&e.push(Object(G.j)("clientName","==",g.toLowerCase())),v&&e.push(Object(G.j)("model","==",v.toLowerCase())),P&&e.push(Object(G.j)("serialNumber","==",P.toLowerCase())),V&&e.push(Object(G.j)("status","==",V)),r=[],s.next=9,u.a.awrap(Object(G.d)(G.g.apply(void 0,[Object(G.a)(c,"items")].concat(e))));case 9:(i=s.sent).empty?(d("Aucun r\xe9sultat!"),setTimeout((function(){d("")}),3e3)):(i.forEach((function(e){r.push(e.data())})),o(!1),m(""),p(""),k(""),z(""),A(Oe[0]),n(!0),t(r));case 11:case"end":return s.stop()}}),null,null,null,Promise)},iconName:"search",iconPosition:"before"})]})},xe=n(246);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=Object(xe.a)({name:"user",initialState:{status:"idle",isAuthenticated:!1},reducers:{fetchUser:function(e,t){t.payload?(e.status="complete",e.isAuthenticated=!0,e.user=t.payload):(e.status="complete",e.isAuthenticated=!1,e.user=void 0)},updateUser:function(e,t){e.status="complete",e.isAuthenticated=!0,e.user=me(me({},e.user),{},{role:t.payload.role,items:t.payload.items,phoneNumber:t.payload.phoneNumber})},signOutUser:function(e){e.status="complete",e.isAuthenticated=!1,e.user=void 0}},extraReducers:function(e){}}),we=function(e){return e.user},ve=ye.actions,ke=ve.fetchUser,Ce=ve.updateUser,Se=ve.signOutUser,Pe=ye.reducer;function ze(){var e=Object(q.c)(we).user,t=Object(G.e)(),n=Object(O.useState)(!1),r=l()(n,2),o=r[0],c=r[1],i=Object(O.useState)(!1),s=l()(i,2),a=s[0],d=s[1],j=Object(O.useState)(!1),h=l()(j,2),p=h[0],f=h[1],x=Object(O.useState)(),g=l()(x,2),m=g[0],y=g[1];return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(Q.a,{children:Object(D.jsxs)(L,{style:Ie.container,children:[Object(D.jsxs)(W,{style:Ie.title,children:["Bienvenu admin ",null==e?void 0:e.displayName]}),Object(D.jsxs)(L,{style:Ie.actions,children:[Object(D.jsxs)(C.a,{onPress:function(){return c(!o)},style:[Ie.actioncard,Ie.actioncardadd],children:[Object(D.jsx)(b.a,{size:25,color:R.white,name:"plus-circle"}),Object(D.jsx)(W,{style:{color:R.white},children:"Ajouter"})]}),Object(D.jsxs)(C.a,{onPress:function(){return d(!a)},style:[Ie.actioncard,Ie.actioncardsearch],children:[Object(D.jsx)(b.a,{size:25,color:R.white,name:"search"}),Object(D.jsx)(W,{style:{color:R.white},children:"Chercher"})]}),Object(D.jsxs)(C.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:y([]),Object(G.f)(Object(G.g)(Object(G.a)(t,"items")),(function(e){var t=[];e.forEach((function(e){t.unshift(e.data())})),f(!0),y(t)}));case 2:case"end":return e.stop()}}),null,null,null,Promise)},style:[Ie.actioncard,Ie.actioncardlist],children:[Object(D.jsx)(b.a,{size:25,color:R.white,name:"tasks"}),Object(D.jsx)(W,{style:{color:R.white},children:"Liste"})]})]}),Object(D.jsxs)(L,{style:{height:K.a.get("window").height-190},children:[p&&Object(D.jsx)(L,{style:{paddingBottom:75},children:m?Object(D.jsx)(ce,{items:m,openList:p,setOpenList:f}):Object(D.jsx)(W,{children:"R\xe9cup\xe9ration des donn\xe9es..."})}),Object(D.jsx)(fe,{setItems:y,setOpenList:f,openSearchModal:a,setOpenSearchModal:d}),Object(D.jsx)(je,{openAddModal:o,setOpenAddModal:c})]})]})})})}var Ie=k.a.create({container:{display:"flex",flexDirection:"column",alignItems:"center",flex:1,paddingTop:20,paddingBottom:50},title:{fontSize:15,fontWeight:"bold",marginVertical:30,marginHorizontal:20},actions:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"space-around"},actioncard:{width:100,height:100,borderWidth:1,borderRadius:25,display:"flex",alignItems:"center",justifyContent:"center"},actioncardadd:{borderColor:R.black,backgroundColor:R.black},actioncardsearch:{borderColor:R.violet,backgroundColor:R.violet},actioncardlist:{borderColor:R.red,backgroundColor:R.red}});function Re(e){var t=e.item,n=e.openItemDetails,r=e.setOpenItemDetails,o=(g(),Object(O.useState)(t.clientNote?t.clientNote:"")),c=l()(o,2),i=c[0],s=c[1],a=Object(O.useState)(""),d=l()(a,2),j=d[0],h=d[1],p=Object(G.e)();return Object(D.jsxs)(ae,{open:n,setOpen:r,children:[Object(D.jsxs)(L,{style:De.modalBlock,children:[Object(D.jsx)(W,{style:De.modalText,children:"Num\xe9ro de bon:"}),Object(D.jsx)(W,{style:{fontSize:45,fontWeight:"bold"},children:t.itemId})]}),Object(D.jsxs)(L,{style:De.modalBlock,children:[Object(D.jsx)(W,{style:{fontSize:35,fontWeight:"700"},children:t.clientName}),Object(D.jsxs)(W,{style:De.modalText,children:["Num\xe9ro de t\xe9l\xe9phone: ",t.clientPhoneNumber]}),Object(D.jsxs)(W,{style:De.modalText,children:["Date d'entr\xe9e: ",t.createdAt]})]}),Object(D.jsxs)(L,{style:De.modalBlock,children:[Object(D.jsx)(W,{style:{fontWeight:"bold",fontSize:22},children:t.model}),t.serialNumber&&Object(D.jsxs)(W,{style:De.modalText,children:["Num\xe9ro de s\xe9rie: ",t.serialNumber]})]}),Object(D.jsxs)(L,{style:[De.modalBlock],children:[Object(D.jsxs)(L,{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:[Object(D.jsx)(W,{style:De.modalText,children:"Etat:"}),Object(D.jsx)(W,{style:[De.modalText,{backgroundColor:R.red,color:R.white,marginLeft:5,paddingHorizontal:3}],children:t.status})]}),t.prestation&&Object(D.jsx)(L,{children:Object(D.jsxs)(W,{style:De.modalText,children:["Prestation: ",t.prestation," DZD"]})})]}),t.diagnostic&&Object(D.jsxs)(L,{style:De.modalBlock,children:[Object(D.jsx)(W,{style:De.modalText,children:"Diagnostique:"}),Object(D.jsx)(W,{style:De.modalText,children:t.diagnostic})]}),Object(D.jsxs)(L,{style:De.modalBlock,children:[Object(D.jsx)(W,{style:De.modalText,children:"Vous pouvez laisser une note au r\xe9parateur"}),Object(D.jsxs)(L,{style:{marginVertical:5},children:[Object(D.jsx)(X.a,{value:i,onChangeText:function(e){return s(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:R.black,color:R.white,borderColor:R.white,borderWidth:1}}),Object(D.jsx)(Y.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!t.itemId){e.next=5;break}return e.next=3,u.a.awrap(Object(G.i)(Object(G.b)(p,"items",t.itemId),{clientNote:i}));case 3:h("Successfully submitted your note."),setTimeout((function(){h("")}),3e3);case 5:case"end":return e.stop()}}),null,null,null,Promise)},style:{position:"absolute",right:10,top:8},children:Object(D.jsx)(b.a,{name:"send",size:25,color:"green"})}),j.length>0&&Object(D.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:8}})]})]})]})}var De=k.a.create({modalText:{fontSize:15},modalBlock:{margin:30}});function Te(){var e=Object(G.e)(),t=Object(O.useState)(""),r=l()(t,2),o=r[0],c=r[1],i=Object(O.useState)(""),s=l()(i,2),a=s[0],d=s[1],j=Object(O.useState)(""),h=l()(j,2),p=h[0],f=h[1],x=Object(O.useState)(!1),g=l()(x,2),m=g[0],y=g[1],w=Object(O.useState)(),v=l()(w,2),k=v[0],S=v[1];return Object(D.jsxs)(L,{style:Ve.container,children:[Object(D.jsx)(H.a,{source:n(307),style:{height:250,width:250}}),Object(D.jsxs)(L,{style:Ve.searchBar,children:[p.length>1&&Object(D.jsx)(W,{style:Ve.error,children:p}),Object(D.jsx)(be,{placeholder:"num\xe9ro de bon - exemple: 22A008",value:a,setValue:d,condition:p.length>0&&!a}),Object(D.jsx)(be,{placeholder:"nom sur le bon - exemple: Mohamed Mohamed",value:o,setValue:c,condition:p.length>0&&!o}),Object(D.jsx)(L,{style:Ve.buttoncontainer,children:Object(D.jsx)(L,{style:{display:"flex",justifyContent:"center",alignItems:"center",marginHorizontal:"auto",marginVertical:4,height:50,width:50,borderRadius:50,backgroundColor:R.green},children:Object(D.jsx)(C.a,{onPress:function(){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:o&&a?Object(G.f)(Object(G.b)(e,"items",a.toUpperCase()),(function(e){e.exists()?e.data().clientName.toLowerCase()===o.toLowerCase()?(S(e.data()),y(!0),f(""),d(""),c("")):(f("Veuillez entrer le nom affich\xe9 sur le bon!"),setTimeout((function(){f("")}),3e3)):(f("Ce bon n'existe pas!"),setTimeout((function(){f("")}),3e3))})):(f("Champs obligatoire!"),setTimeout((function(){f("")}),3e3));case 1:case"end":return t.stop()}}),null,null,null,Promise)},children:Object(D.jsx)(b.a,{size:30,name:"search",color:R.white})})})})]}),m&&k&&Object(D.jsx)(Re,{item:k,openItemDetails:m,setOpenItemDetails:y})]})}var Ve=k.a.create({container:{height:"100%",display:"flex",flex:1,alignItems:"center",paddingTop:20},title:{fontSize:35,fontWeight:"bold",marginVertical:30,marginHorizontal:20},searchBar:{width:"100%",flex:1,justifyContent:"center",backgroundColor:"transparent"},buttoncontainer:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},error:{backgroundColor:R.red,color:R.white,paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"}}),Ae=n(93),Ne=function(){var e,t=Object(q.c)(we).user,r=Object(q.b)(),o=Object(J.c)(),c=Object(G.e)();Object(O.useEffect)((function(){t&&t.uid&&Object(G.f)(Object(G.b)(c,"custom",t.uid),(function(e){r(Ce(e.data()))}))}),[]);return Object(D.jsx)(D.Fragment,{children:t&&Object(D.jsxs)(L,{style:{paddingTop:20},children:[Object(D.jsxs)(L,{style:{position:"relative",marginVertical:50,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(D.jsx)(H.a,{style:{position:"absolute",right:K.a.get("window").width/2-120,height:250,width:250},source:n(311)}),"web"!==M.a.OS&&null!=(e=t.photoURL)&&e.includes(".svg")?Object(D.jsx)(L,{style:{backgroundColor:"transparent"},children:Object(D.jsx)(Ae.SvgUri,{uri:t.photoURL,width:100,height:100,style:{borderRadius:50}})}):Object(D.jsx)(H.a,{source:{uri:t.photoURL},style:{borderRadius:50,width:100,height:100}}),Object(D.jsx)(W,{style:{fontSize:20},children:t.displayName})]}),Object(D.jsxs)(L,{style:{margin:30},children:[Object(D.jsxs)(W,{style:{fontSize:15,display:"flex",flexDirection:"row"},children:[Object(D.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"Email:"})," ",t.email]}),t.phoneNumber&&Object(D.jsxs)(W,{style:{fontSize:15,display:"flex",flexDirection:"row"},children:[Object(D.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"N t\xe9l\xe9phone:"})," ",t.phoneNumber]}),t.role&&Object(D.jsxs)(W,{style:{fontSize:15,display:"flex",flexDirection:"row"},children:[Object(D.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"R\xf4le:"})," ",t.role]})]}),t.items&&t.items.length>0&&Object(D.jsx)(L,{style:{margin:30},children:t.items.map((function(e){return Object(D.jsxs)(L,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},children:[Object(D.jsx)(W,{children:e.itemId}),Object(D.jsx)(W,{children:e.clientName}),Object(D.jsx)(W,{children:e.model}),Object(D.jsx)(W,{children:e.status})]},e.itemId)}))}),Object(D.jsx)(se,{title:"Se d\xe9connecter",clickHandler:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Object(J.h)(o).then((function(){return r(Se())}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},iconName:"sign-out",iconPosition:"after"})]})})};function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=k.a.create({container:{backgroundColor:R.white,borderRadius:25,display:"flex",padding:20},error:{backgroundColor:R.red,color:R.white,paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"}}),Be=function(e){var t=e.setRegisterOpen,n=(g(),Object(O.useState)("")),r=l()(n,2),o=r[0],c=r[1],i=Object(O.useState)(""),s=l()(i,2),a=s[0],d=s[1],j=Object(O.useState)(!1),h=l()(j,2),p=h[0],f=h[1],x=Object(O.useState)(""),m=l()(x,2),y=m[0],w=m[1],v=Object(q.c)(we).user,k=Object(q.b)(),S=Object(J.c)();Object(O.useEffect)((function(){v?t(!1):S.currentUser&&(k(ke(S.currentUser)),t(!1))}),[]);return Object(D.jsxs)(L,{style:Le.container,children:[y.length>1&&Object(D.jsx)(W,{style:Le.error,children:y}),Object(D.jsx)(be,{placeholder:"email",value:o,setValue:c,condition:y.length>1&&!o}),Object(D.jsxs)(L,{style:We({position:"relative",display:"flex",flexDirection:"row",justifyContent:"space-between",marginHorizontal:15,backgroundColor:R.gray,marginVertical:4,padding:10,borderRadius:15},y.length>1&&!a?{borderColor:R.red,borderWidth:2}:{borderColor:R.black,borderWidth:1}),children:[Object(D.jsx)(X.a,{style:{flex:9,color:R.black},placeholder:"mot de passe",placeholderTextColor:"#999",secureTextEntry:!p,onChangeText:function(e){return d(e)}}),Object(D.jsx)(C.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},onPress:function(){return f(!p)},children:p?Object(D.jsx)(b.a,{style:{color:R.black},size:15,name:"eye"}):Object(D.jsx)(b.a,{style:{color:R.black},size:15,name:"eye-slash"})})]}),Object(D.jsx)(se,{title:"S'identifier",clickHandler:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:o&&a?Object(J.g)(S,o,a).then((function(e){k(ke(e.user)),t(!1)})).catch((function(e){w("Impossible de se connecter!"),setTimeout((function(){w("")}),3e3)})):(w("Champs obligatoir!"),setTimeout((function(){w("")}),3e3));case 1:case"end":return e.stop()}}),null,null,null,Promise)}})]})};function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=k.a.create({container:{backgroundColor:R.white,borderRadius:25,display:"flex",padding:20},error:{backgroundColor:R.red,color:R.white,paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"}}),Fe=function(e){var t=e.setRegisterOpen,n=(g(),Object(O.useState)("")),r=l()(n,2),o=r[0],c=r[1],i=Object(O.useState)(""),s=l()(i,2),a=s[0],d=s[1],j=Object(O.useState)(""),h=l()(j,2),p=h[0],f=h[1],x=Object(O.useState)(""),m=l()(x,2),y=m[0],w=m[1],v=Object(O.useState)(!1),k=l()(v,2),S=k[0],P=k[1],z=Object(q.c)(we).user,I=Object(q.b)(),T=Object(J.c)(),V=Object(G.e)();Object(O.useEffect)((function(){z?t(!1):T.currentUser&&(I(ke(T.currentUser)),t(!1))}),[]);return Object(D.jsxs)(L,{style:Me.container,children:[y.length>1&&Object(D.jsx)(W,{style:Me.error,children:y}),Object(D.jsx)(be,{placeholder:"nom d'utilisateur",value:o,setValue:c,condition:y.length>1&&!o}),Object(D.jsx)(be,{placeholder:"email",value:a,setValue:d,condition:y.length>1&&!a}),Object(D.jsxs)(L,{style:He({position:"relative",display:"flex",flexDirection:"row",justifyContent:"space-between",backgroundColor:R.gray,marginHorizontal:15,marginVertical:4,padding:10,borderRadius:15},y.length>1&&!p?{borderColor:R.red,borderWidth:2}:{borderColor:R.black,borderWidth:1}),children:[Object(D.jsx)(X.a,{style:{flex:9,color:R.black},placeholder:"mot de passe",placeholderTextColor:"#999",secureTextEntry:!S,onChangeText:function(e){return f(e)}}),Object(D.jsx)(C.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},onPress:function(){return P(!S)},children:S?Object(D.jsx)(b.a,{style:{color:R.black},size:15,name:"eye"}):Object(D.jsx)(b.a,{style:{color:R.black},size:15,name:"eye-slash"})})]}),Object(D.jsx)(se,{title:"Cr\xe9er un compte",clickHandler:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:o&&a&&p?Object(J.a)(T,a,p).then((function(e){Object(J.j)(e.user,{displayName:o,photoURL:"https://avatars.dicebear.com/api/gridy/"+o+".svg"}).then((function(){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(Object(G.h)(Object(G.b)(V,"custom",e.user.uid),{userId:e.user.uid,username:e.user.displayName,role:"basic"}));case 2:I(ke(e.user)),t(!1);case 4:case"end":return n.stop()}}),null,null,null,Promise)}))})).catch((function(e){w("Un probl\xe8me avec vos entr\xe9es!"),setTimeout((function(){w("")}),3e3)})):(w("Champs obligatoir!"),setTimeout((function(){w("")}),3e3));case 1:case"end":return e.stop()}}),null,null,null,Promise)}})]})},qe=function(e){var t,n=e.setEditOpen,r=Object(q.c)(we).user,o=Object(q.b)(),c=Object(J.c)(),i=Object(G.e)(),s=Object(O.useState)(""),a=l()(s,2),d=a[0],j=a[1],h=Object(O.useState)(""),p=l()(h,2),f=p[0],x=p[1],g=Object(O.useState)(r&&r.displayName?r.displayName:""),m=l()(g,2),y=m[0],w=m[1],v=Object(O.useState)(r&&r.email?r.email:""),k=l()(v,2),C=k[0],S=k[1],P=Object(O.useState)(r&&r.phoneNumber?r.phoneNumber:""),z=l()(P,2),I=z[0],T=z[1];return Object(D.jsx)(D.Fragment,{children:r&&Object(D.jsxs)(L,{children:[Object(D.jsx)(Y.a,{style:{position:"absolute",top:0,right:10,borderRadius:50,padding:10,elevation:10,zIndex:50,backgroundColor:"green"},onPress:function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.currentUser){e.next=7;break}if(y&&y!==c.currentUser.displayName&&Object(J.j)(c.currentUser,{displayName:y}).then((function(){return n(!1)})),C&&C!==c.currentUser.email&&Object(J.i)(c.currentUser,C).then((function(){return n(!1)})),!I){e.next=7;break}return e.next=6,u.a.awrap(Object(G.i)(Object(G.b)(i,"custom",c.currentUser.uid),{phoneNumber:I}));case 6:n(!1);case 7:case"end":return e.stop()}}),null,null,null,Promise),n(!1)},children:Object(D.jsx)(b.a,{style:{color:R.white,fontWeight:"bold",textAlign:"center"},size:25,name:"check"})}),Object(D.jsx)(L,{style:{marginVertical:50,display:"flex",justifyContent:"center",alignItems:"center"},children:"web"!==M.a.OS&&null!=(t=r.photoURL)&&t.includes(".svg")?Object(D.jsx)(L,{style:{backgroundColor:"transparent"},children:Object(D.jsx)(Ae.SvgUri,{uri:r.photoURL,width:100,height:100,style:{borderRadius:50}})}):Object(D.jsx)(H.a,{source:{uri:r.photoURL},style:{borderRadius:50,width:100,height:100}})}),Object(D.jsx)(L,{style:{marginLeft:30,marginVertical:10},children:Object(D.jsxs)(W,{style:{fontSize:15,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(D.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"Nom:"})," ",Object(D.jsx)(be,{value:y,setValue:w,placeholder:"Nom du client"})]})}),Object(D.jsx)(L,{style:{marginLeft:30,marginVertical:10},children:Object(D.jsxs)(W,{style:{fontSize:15,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(D.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"Email:"})," ",Object(D.jsx)(be,{value:C,setValue:S,placeholder:"Addresse email du client"})]})}),Object(D.jsx)(L,{style:{marginLeft:30,marginVertical:10},children:Object(D.jsxs)(W,{style:{fontSize:15,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(D.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"N t\xe9l\xe9phone:"})," ",Object(D.jsx)(be,{value:I,setValue:T,placeholder:"Num\xe9ro de t\xe9l\xe9phone du client"})]})}),Object(D.jsxs)(L,{style:{marginLeft:30,marginVertical:10},children:[f.length>0&&Object(D.jsx)(W,{style:{color:"green",fontWeight:"bold"},children:f}),Object(D.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"Votre addresse email n'est pas v\xe9rif\xe9e."}),Object(D.jsx)(Y.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c.currentUser&&Object(J.e)(c.currentUser).then((function(){x("Un email de v\xe9rification vous a \xe9t\xe9 envoy\xe9!"),setTimeout((function(){x("")}),3e3)}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(D.jsxs)(W,{style:{color:"gray",textDecorationLine:"underline"},children:["Envoyez un email de v\xe9rification \xe0 ",r.email]})})]}),Object(D.jsxs)(L,{style:{marginLeft:30,marginVertical:10},children:[d.length>0&&Object(D.jsx)(W,{style:{color:"green",fontWeight:"bold"},children:d}),Object(D.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"Vous avez oubliez votre mot de passe?"}),Object(D.jsx)(Y.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c.currentUser&&c.currentUser.email&&Object(J.f)(c,c.currentUser.email).then((function(){j("Email de r\xe9initialisation de mot de passe envoy\xe9 avec succ\xe8s!"),setTimeout((function(){j("")}),3e3)}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(D.jsx)(W,{style:{color:"gray",textDecorationLine:"underline"},children:"Envoyez un email de r\xe9initialisation de mot de passe"})})]}),Object(D.jsxs)(L,{style:{marginLeft:30,marginVertical:10},children:[Object(D.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"Voulez vous supprimer votre compte?"}),Object(D.jsx)(W,{children:"Cela supprimera tous vos donn\xe9es. Vos donn\xe9es seront irr\xe9cup\xe9rables."}),Object(D.jsx)(Y.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c.currentUser&&Object(J.b)(c.currentUser).then((function(){o(Se())}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(D.jsx)(W,{style:{color:R.red,fontWeight:"bold",textDecorationLine:"underline"},children:"SUPPRIMER MON COMPTE"})})]})]})})},Ge=function(e){var t=e.setAddOpen,n=Object(q.c)(we).user;return Object(D.jsx)(D.Fragment,{children:n&&Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(W,{style:{marginBottom:15,textAlign:"center"},children:"Ajouter un produit"}),Object(D.jsx)(se,{title:"Fermer",clickHandler:function(){return t(!1)}})]})})};function Je(){var e=Object(q.c)(we).user,t=Object(q.b)(),n=Object(G.e)(),r=Object(O.useState)(!1),o=l()(r,2),c=o[0],i=o[1],s=Object(O.useState)(!1),a=l()(s,2),d=a[0],u=a[1],b=Object(O.useState)(!1),j=l()(b,2),h=j[0],p=j[1],f=Object(O.useState)(!1),x=l()(f,2),g=x[0],m=x[1],y=Object(O.useState)(!1),w=l()(y,2),v=w[0],k=w[1];return Object(O.useEffect)((function(){e&&e.uid&&Object(G.f)(Object(G.b)(n,"custom",e.uid),(function(e){t(Ce(e.data()))}))}),[]),Object(D.jsxs)(L,{style:Ke.container,children:[e?Object(D.jsx)(Ne,{}):Object(D.jsxs)(L,{style:Ke.block,children:[Object(D.jsx)(W,{style:Ke.loginCtaText,children:"Avoir un compte vous permets de suivre votre produit et recevoir une notification d\xe8s qu'il est r\xe9par\xe9."}),Object(D.jsx)(se,{title:"S'identifier",clickHandler:function(){return i(!0)},iconName:"sign-in",iconPosition:"after"}),Object(D.jsx)(se,{title:"Cr\xe9er un compte",clickHandler:function(){return u(!0)},iconName:"user-plus",iconPosition:"after"}),Object(D.jsx)($.e,{overlayStyle:Ke.overlay,isVisible:c,onBackdropPress:function(){return i(!c)},children:Object(D.jsx)(Be,{setRegisterOpen:u})}),Object(D.jsx)($.e,{overlayStyle:Ke.overlay,isVisible:d,onBackdropPress:function(){return u(!d)},children:Object(D.jsx)(Fe,{setRegisterOpen:u})})]}),e&&Object(D.jsxs)($.f,{buttonStyle:{backgroundColor:R.green},containerStyle:{bottom:80},isOpen:v,icon:{name:"edit",color:R.white},openIcon:{name:"close",color:R.white},onPress:function(){return k(!v)},onOpen:function(){return k(!0)},onClose:function(){return k(!1)},children:[Object(D.jsx)($.f.Action,{style:{bottom:80},buttonStyle:{backgroundColor:R.green},icon:{name:"add",color:R.white},title:"Ajouter un produit",titleStyle:{position:"relative",bottom:80},onPress:function(){k(!1),m(!0)}}),Object(D.jsx)($.f.Action,{style:{bottom:80},buttonStyle:{backgroundColor:R.green},icon:{name:"edit",color:R.white},title:"Modifier votre profil",titleStyle:{position:"relative",bottom:80},onPress:function(){k(!1),p(!0)}})]}),g&&Object(D.jsx)(ae,{open:g,setOpen:m,children:Object(D.jsx)(Ge,{setAddOpen:m})}),h&&Object(D.jsx)(ae,{open:h,setOpen:p,children:Object(D.jsx)(qe,{setEditOpen:p})})]})}var Ke=k.a.create({container:{display:"flex",flex:1,paddingTop:20},block:{marginHorizontal:20,marginTop:50},loginCtaText:{textAlign:"center",fontSize:18,marginVertical:10},overlay:{borderWidth:0,borderRadius:25,width:"90%",backgroundColor:"transparent",padding:0}}),Qe=n(101),Ye=k.a.create({box:{alignItems:"center",marginVertical:20},title:{fontSize:30,textAlign:"center"},text:{fontSize:22,textAlign:"center"},contactbutton:{padding:20},overlay:{borderWidth:0,borderRadius:25,width:"90%",backgroundColor:R.white,padding:10,zIndex:20}}),Ze=function(){var e=Object(O.useState)(!1),t=l()(e,2),n=t[0],r=t[1];return Object(D.jsxs)(L,{style:{height:K.a.get("window").height,display:"flex",flexDirection:"column",alignItems:"center",flex:1,paddingTop:20},children:[Object(D.jsxs)(L,{style:Ye.box,children:[Object(D.jsx)(W,{style:Ye.title,children:"A propos de moi"}),Object(D.jsx)(W,{style:Ye.text,children:"..."})]}),Object(D.jsxs)(L,{style:Ye.box,children:[Object(D.jsx)(W,{style:Ye.title,children:"Contactez-moi"}),Object(D.jsxs)(L,{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(D.jsx)(Y.a,{onPress:function(){return Qe.a.openURL("https://www.instagram.com/biyourepair")},children:Object(D.jsx)(b.a,{size:25,name:"instagram",style:[Ye.contactbutton,{color:"#e95950"}]})}),Object(D.jsx)(Y.a,{onPress:function(){return Qe.a.openURL("https://www.facebook.com/biyourepair")},children:Object(D.jsx)(b.a,{size:25,name:"facebook-square",style:[Ye.contactbutton,{color:"#2374e1"}]})}),Object(D.jsx)(Y.a,{onPress:function(){return r(!n)},children:Object(D.jsx)(b.a,{size:25,name:"phone",style:[Ye.contactbutton,{color:"green"}]})}),Object(D.jsx)(Y.a,{onPress:function(){return r(!n)},children:Object(D.jsx)(b.a,{size:25,name:"envelope",style:[Ye.contactbutton,{color:R.yellow}]})})]})]}),Object(D.jsxs)(L,{style:Ye.box,children:[Object(D.jsx)(W,{style:Ye.title,children:"Ou me trouver?"}),Object(D.jsx)(W,{style:Ye.text,children:"Kadous, Oued Romane, El Achour - Alger"})]}),Object(D.jsxs)($.e,{overlayStyle:Ye.overlay,isVisible:n,onBackdropPress:function(){return r(!n)},children:[Object(D.jsx)(L,{style:{padding:10},children:Object(D.jsxs)(W,{style:{display:"flex",flexDirection:"row"},children:[Object(D.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"N de t\xe9l\xe9phone:"})," ","+213 793013998"]})}),Object(D.jsx)(L,{style:{padding:10},children:Object(D.jsxs)(W,{style:{display:"flex",flexDirection:"row"},children:[Object(D.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"Email:"})," ","biyou20b@gmail.com"]})})]})]})};function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=Object(F.a)();var et=k.a.create({shadow:{shadowColor:R.yellow,shadowOffset:{width:0,height:10},shadowOpacity:.25,shadowRadius:3.5,elevation:5}});function tt(e){return Object(D.jsx)(b.a,$e({size:30,style:{marginBottom:-3}},e))}var nt=function(){var e=Object(J.c)(),t=Object(G.e)(),n=Object(q.c)(we).user,r=Object(q.b)(),o=O.useState(!1),c=l()(o,2),i=c[0],s=c[1];O.useEffect((function(){Object(J.d)(e,(function(e){r(e?ke(e):Se())}))}),[]);var a=O.useCallback((function(){var e;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n||!n.uid){r.next=7;break}return r.next=3,u.a.awrap(Object(G.c)(Object(G.b)(t,"custom",n.uid)));case 3:(e=r.sent).exists()&&"admin"===e.data().role?s(!0):s(!1),r.next=8;break;case 7:s(!1);case 8:case"end":return r.stop()}}),null,null,null,Promise)}),[n]);return O.useEffect((function(){a()}),[a]),Object(D.jsxs)(_e.Navigator,{initialRouteName:"Home",screenOptions:{tabBarActiveTintColor:R.black,tabBarActiveBackgroundColor:R.yellow,tabBarItemStyle:{borderRadius:50},tabBarInactiveTintColor:R.yellow,tabBarShowLabel:!1,tabBarStyle:$e({position:"absolute",bottom:20,left:15,right:15,backgroundColor:R.gray,borderRadius:50,height:60},et.shadow)},children:[Object(D.jsx)(_e.Screen,{name:"Home",component:Te,options:function(e){e.navigation;return{title:"Home",tabBarIcon:function(e){var t=e.color;return Object(D.jsx)(tt,{name:"search",color:t})},headerShown:!1}}}),i&&Object(D.jsx)(_e.Screen,{name:"Admin",component:ze,options:{title:"Admin",headerShown:!1,tabBarIcon:function(e){var t=e.color;return Object(D.jsx)(tt,{name:"cogs",color:t})}}}),Object(D.jsx)(_e.Screen,{name:"Account",component:Je,options:{title:"Account",headerShown:!1,tabBarIcon:function(e){var t,r=e.color;return n?"web"!==M.a.OS&&null!=(t=n.photoURL)&&t.includes(".svg")?Object(D.jsx)(L,{style:{backgroundColor:"transparent"},children:Object(D.jsx)(Ae.SvgUri,{uri:n.photoURL,width:35,height:35,style:{borderRadius:50}})}):Object(D.jsx)(H.a,{source:{uri:n.photoURL},style:{borderRadius:50,width:35,height:35}}):Object(D.jsx)(tt,{name:"user",color:r})}}}),Object(D.jsx)(_e.Screen,{name:"Info",component:Ze,options:function(e){e.navigation;return{title:"Home",tabBarIcon:function(e){var t=e.color;return Object(D.jsx)(tt,{name:"info-circle",color:t})},headerShown:!1}}})]})},rt={prefixes:[n(245).a("/")],config:{screens:{Root:{screens:{Home:{screens:{HomeScreen:"home"}},Admin:{screens:{AdminScreen:"admin"}},Account:{screens:{AccountScreen:"account"}},Info:{screens:{InfoScreen:"info"}}}},NotFound:"*"}}};function ot(e){var t=e.colorScheme;return Object(D.jsx)(m.a,{linking:rt,theme:"dark"===t?y.a:w.a,children:Object(D.jsx)(it,{})})}var ct=Object(v.a)();function it(){return Object(D.jsxs)(ct.Navigator,{children:[Object(D.jsx)(ct.Screen,{name:"Root",component:nt,options:{headerShown:!1}}),Object(D.jsx)(ct.Screen,{name:"NotFound",component:B,options:{title:"Oops!"}})]})}var st=n(53),at=n(107),lt=n(242),dt=Object(st.combineReducers)({user:Pe}),ut=[at.a],bt=Object(st.createStore)(dt,{},Object(lt.composeWithDevTools)(st.applyMiddleware.apply(void 0,ut))),jt={apiKey:"AIzaSyBM5PP4iO6svYbv6ekcB9A7Tx-idsQdlg0",authDomain:"biyou-repair.firebaseapp.com",projectId:"biyou-repair",storageBucket:"biyou-repair.appspot.com",messagingSenderId:"343143569769",appId:"1:343143569769:web:168a7dc30ce967e8dd45f8",measurementId:"G-74LH66PR7V"},ht=n(151);if(r.a.ignoreLogs(["Setting a timer"]),r.a.ignoreLogs(["AsyncStorage has been extracted from react-native core and will be removed in a future release"]),0===Object(ht.a)().length)Object(ht.b)(jt);function Ot(){var e=function(){var e=Object(O.useState)(!1),t=l()(e,2),r=t[0],o=t[1];return Object(O.useEffect)((function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h.b(),e.next=4,u.a.awrap(j.b(f(f({},b.a.font),{},{"space-mono":n(267)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,o(!0),h.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),r}(),t=g();return e?Object(D.jsx)(c.b,{children:Object(D.jsxs)(q.a,{store:bt,children:[Object(D.jsx)(ot,{colorScheme:t}),Object(D.jsx)(o.a,{})]})}):null}},251:function(e,t,n){e.exports=n(336)},267:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"},307:function(e,t,n){e.exports=n.p+"static/media/adaptive-icon.cd34f223.png"},311:function(e,t,n){e.exports=n.p+"static/media/ring.41bc6751.png"},328:function(e,t){}},[[251,1,2]]]);
//# sourceMappingURL=app.4bc20803.chunk.js.map