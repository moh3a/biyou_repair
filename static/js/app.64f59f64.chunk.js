(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{242:function(e,t,n){"use strict";n.d(t,"a",(function(){return bt}));var r=n(101),o=n(243),c=n(246),i=n(4),s=n.n(i),a=n(6),l=n.n(a),d=n(10),u=n.n(d),b=n(178),j=n(361),h=n(151),O=n(0);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=n(113);function x(){return Object(g.a)()}var m=n(357),y=n(358),w=n(129),v=n(360),k=n(2),C=n(18),S=n(12),P=n.n(S),z=n(20),R=n(3),D={light:{text:"#393E41",background:"#E7E5DF"},dark:{text:"#393E41",background:"#E7E5DF"},black:"#393E41",gray:"#D3D0CB",green:"#44BBA4",white:"#E7E5DF",yellow:"#E7BB41",violet:"#38405F",red:"#FF0035"},T=n(1),I=["style","lightColor","darkColor"],N=["style","lightColor","darkColor"];function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t){var n=x(),r=e[n];return r||D[n][t]}function W(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=P()(e,I),c=E({light:n,dark:r},"text");return Object(T.jsx)(z.a,A({style:[{color:c},t]},o))}function L(e){var t=e.style,n=e.lightColor,r=e.darkColor,o=P()(e,N),c=E({light:n,dark:r},"background");return Object(T.jsx)(R.a,A({style:[{backgroundColor:c},t]},o))}function B(e){var t=e.navigation;return Object(O.useEffect)((function(){t.navigate("Root")}),[]),Object(T.jsxs)(L,{style:U.container,children:[Object(T.jsx)(W,{style:U.title,children:"404 - NOT FOUND"}),Object(T.jsx)(C.a,{onPress:function(){return t.replace("Root")},style:U.link,children:Object(T.jsx)(W,{style:U.linkText,children:"Lost? Go back home!"})})]})}var U=k.a.create({container:{flex:1,alignItems:"center",justifyContent:"center",padding:20},title:{color:D.white,fontSize:35,fontWeight:"bold"},link:{marginTop:15,paddingVertical:15},linkText:{fontSize:15,color:D.white}}),H=n(25),M=n(5),F=n(359),q=n(34),G=n(13),J=n(40),K=n(23),Q=n(44),Y=n(31),Z=n(56),X=n(43),$=n(58),_=["En attente","R\xe9par\xe9","Devis","Retour au client","Attente de pi\xe8ces"];function ee(e){var t=e.item,n=e.setItem,r=e.openAdminItemDetails,o=e.setOpenAdminItemDetails,c=(x(),Object(O.useState)("")),i=l()(c,2),s=i[0],a=i[1],d=Object(O.useState)(_.findIndex((function(e){return e===t.status}))),j=l()(d,2),h=j[0],p=j[1],f=Object(O.useState)(t.clientPhoneNumber?t.clientPhoneNumber:""),g=l()(f,2),m=g[0],y=g[1],w=Object(O.useState)(t.model?t.model:""),v=l()(w,2),k=v[0],C=v[1],S=Object(O.useState)(t.serialNumber?t.serialNumber:""),P=l()(S,2),z=P[0],R=P[1],I=Object(O.useState)(t.prestation?t.prestation:0),N=l()(I,2),V=N[0],A=N[1],E=Object(O.useState)(t.diagnostic?t.diagnostic:""),B=l()(E,2),U=B[0],H=B[1],M=Object(G.e)(),F=Object(O.useCallback)((function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h||!t.itemId){e.next=3;break}return e.next=3,u.a.awrap(Object(G.i)(Object(G.b)(M,"items",t.itemId),{status:_[h]}));case 3:case"end":return e.stop()}}),null,null,null,Promise)}),[h]);Object(O.useEffect)((function(){F()}),[F]);var q=function(e,n){var r;return u.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!e||!t.itemId){o.next=6;break}return r={},o.next=4,u.a.awrap(Object(G.i)(Object(G.b)(M,"items",t.itemId),Object.defineProperty(r,e,{value:"string"===typeof n?n.toLowerCase():n,configurable:!0,writable:!0,enumerable:!0})));case 4:a(e),setTimeout((function(){a("")}),3e3);case 6:case"end":return o.stop()}}),null,null,null,Promise)};return Object(T.jsx)(L,{style:te.container,children:Object(T.jsx)(Z.a,{animationType:"slide",transparent:!0,visible:r,onRequestClose:function(){o(!r),n(void 0)},children:Object(T.jsx)(Q.a,{children:Object(T.jsxs)(L,{style:te.centeredView,children:[Object(T.jsx)(Y.a,{style:te.button,onPress:function(){o(!r),n(void 0)},children:Object(T.jsx)(b.a,{style:{color:D.white,fontWeight:"bold",textAlign:"center"},size:25,name:"close"})}),Object(T.jsxs)(L,{style:te.modalView,children:[Object(T.jsxs)(L,{style:te.modalBlock,children:[Object(T.jsx)(W,{style:te.modalText,children:"Num\xe9ro de bon:"}),Object(T.jsx)(W,{style:{fontSize:45,fontWeight:"bold"},children:t.itemId})]}),Object(T.jsxs)(L,{style:te.modalBlock,children:[Object(T.jsx)(W,{style:te.modalText,children:"Nom du client:"}),Object(T.jsx)(W,{style:{fontSize:30,fontWeight:"600"},children:t.clientName})]}),Object(T.jsxs)(L,{style:te.modalBlock,children:[Object(T.jsxs)(W,{style:te.modalText,children:["Date d'entr\xe9e: ",t.createdAt]}),Object(T.jsxs)(L,{children:[Object(T.jsx)(W,{style:te.modalText,children:"Num\xe9ro de t\xe9l\xe9phone:"}),Object(T.jsxs)(L,{style:{marginVertical:5},children:[Object(T.jsx)(X.a,{value:m,onChangeText:function(e){return y(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:D.black,color:D.white,borderColor:D.white,borderWidth:1}}),Object(T.jsx)(Y.a,{onPress:function(){return q("phoneNumber",m)},style:{position:"absolute",right:10,top:10},children:Object(T.jsx)(b.a,{name:"save",size:25,color:"orange"})}),"phoneNumber"===s&&Object(T.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]})]}),Object(T.jsxs)(L,{style:te.modalBlock,children:[Object(T.jsxs)(L,{children:[Object(T.jsx)(W,{style:te.modalText,children:"Mod\xe8le:"}),Object(T.jsxs)(L,{style:{marginVertical:5},children:[Object(T.jsx)(X.a,{value:k,onChangeText:function(e){return C(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:D.black,color:D.white,borderColor:D.white,borderWidth:1}}),Object(T.jsx)(Y.a,{onPress:function(){return q("model",k)},style:{position:"absolute",right:10,top:10},children:Object(T.jsx)(b.a,{name:"save",size:25,color:"orange"})}),"model"===s&&Object(T.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]}),Object(T.jsxs)(L,{children:[Object(T.jsx)(W,{style:te.modalText,children:"Num\xe9ro de s\xe9rie:"}),Object(T.jsxs)(L,{style:{marginVertical:5},children:[Object(T.jsx)(X.a,{value:z,onChangeText:function(e){return R(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:D.black,color:D.white,borderColor:D.white,borderWidth:1}}),Object(T.jsx)(Y.a,{onPress:function(){return q("serialNumber",z)},style:{position:"absolute",right:10,top:10},children:Object(T.jsx)(b.a,{name:"save",size:25,color:"orange"})}),"serialNumber"===s&&Object(T.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]}),Object(T.jsxs)(L,{children:[Object(T.jsx)(W,{style:te.modalText,children:"Etat:"}),Object(T.jsx)($.b,{buttons:["En attente","R\xe9par\xe9","Devis","Retour au client","Attente de pi\xe8ces"],selectedIndex:h,onPress:function(e){p(e)},containerStyle:{margin:0},selectedButtonStyle:[0===h&&{backgroundColor:D.red},1===h&&{backgroundColor:"green"},2===h&&{backgroundColor:D.violet},3===h&&{backgroundColor:D.red},4===h&&{backgroundColor:D.yellow}],selectedTextStyle:{color:D.white}})]}),Object(T.jsxs)(L,{children:[Object(T.jsx)(W,{style:te.modalText,children:"Prestation:"}),Object(T.jsxs)(L,{style:{marginVertical:5},children:[Object(T.jsx)(X.a,{value:V.toString(),onChangeText:function(e){return A(isNaN(parseFloat(e))?0:parseFloat(e))},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:D.black,color:D.white,borderColor:D.white,borderWidth:1}}),Object(T.jsx)(Y.a,{onPress:function(){return q("prestation",V)},style:{position:"absolute",right:10,top:10},children:Object(T.jsx)(b.a,{name:"save",size:25,color:"orange"})}),"prestation"===s&&Object(T.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]}),Object(T.jsxs)(L,{children:[Object(T.jsx)(W,{style:te.modalText,children:"Diagnostique"}),Object(T.jsxs)(L,{style:{marginVertical:5},children:[Object(T.jsx)(X.a,{value:U,onChangeText:function(e){return H(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:D.black,color:D.white,borderColor:D.white,borderWidth:1}}),Object(T.jsx)(Y.a,{onPress:function(){return q("diagnostic",U)},style:{position:"absolute",right:10,top:10},children:Object(T.jsx)(b.a,{name:"send",size:25,color:"green"})}),"diagnostic"===s&&Object(T.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:10}})]})]})]}),t.clientNote&&Object(T.jsxs)(L,{style:te.modalBlock,children:[Object(T.jsx)(W,{style:te.modalText,children:"Note laiss\xe9e:"}),Object(T.jsx)(W,{style:{fontSize:15,fontStyle:"italic"},children:t.clientNote})]})]})]})})})})}var te=k.a.create({container:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",flex:1,paddingTop:20},centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:20},button:{position:"absolute",top:5,right:10,borderRadius:50,padding:10,elevation:9,backgroundColor:D.red,zIndex:90},modalView:{width:"100%"},modalText:{fontSize:15},modalBlock:{margin:30}}),ne=k.a.create({listView:{flex:1,width:"100%",paddingTop:30,paddingBottom:10},buttoncontainer:{display:"flex",justifyContent:"center",alignItems:"center"},button:{display:"flex",justifyContent:"center",alignItems:"center",height:40,width:40,marginVertical:10,borderRadius:50,padding:10,elevation:10,backgroundColor:D.red},textDesc:{overflow:"hidden"}}),re=function(e){var t=e.items,n=e.openList,r=e.setOpenList,o=Object(O.useState)(),c=l()(o,2),i=c[0],s=c[1],a=Object(O.useState)(!1),d=l()(a,2),u=d[0],j=d[1];return Object(T.jsxs)(L,{style:ne.listView,children:[Object(T.jsx)(L,{style:ne.buttoncontainer,children:Object(T.jsx)(Y.a,{style:ne.button,onPress:function(){return r(!n)},children:Object(T.jsx)(b.a,{style:{color:D.white,fontWeight:"bold",textAlign:"center"},size:20,name:"close"})})}),Object(T.jsx)(L,{style:{width:"100%",display:"flex"},children:t.map((function(e){return Object(T.jsx)(C.a,{onPress:function(){return function(e){j(!0),s(e)}(e)},children:Object(T.jsxs)(L,{style:{borderRadius:10,backgroundColor:D.gray,width:K.a.get("window").width-10,marginHorizontal:"auto",marginVertical:8,display:"flex",flexDirection:"row",paddingVertical:10,paddingHorizontal:5,shadowColor:D.black,shadowOffset:{width:0,height:1},shadowOpacity:.3,shadowRadius:10},children:[Object(T.jsx)(L,{style:{flex:1,width:"100%",backgroundColor:"transparent",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(T.jsx)(W,{children:e.itemId})}),Object(T.jsxs)(L,{style:{flex:6,backgroundColor:"transparent",width:"100%",display:"flex",flexDirection:"column"},children:[Object(T.jsxs)(L,{style:{flex:1,display:"flex",backgroundColor:"transparent",flexDirection:"row",paddingVertical:5},children:[Object(T.jsx)(L,{style:{flex:1,backgroundColor:"transparent",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(T.jsx)(W,{style:{fontWeight:"bold",textAlign:"center"},children:e.clientName})}),Object(T.jsx)(L,{style:{flex:1,backgroundColor:"transparent",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(T.jsx)(W,{children:e.model})})]}),Object(T.jsxs)(L,{style:{borderTopWidth:1,borderTopColor:D.yellow,flex:1,display:"flex",flexDirection:"row",paddingVertical:5,backgroundColor:"transparent"},children:[Object(T.jsx)(L,{style:{flex:1,backgroundColor:"transparent",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(T.jsx)(W,{style:{fontStyle:"italic"},children:e.clientPhoneNumber})}),Object(T.jsx)(L,{style:{backgroundColor:"transparent",flex:1,justifyContent:"center",alignItems:"center",overflow:"hidden"},children:Object(T.jsx)(W,{style:[{color:D.white,fontWeight:"bold",paddingHorizontal:3},"En attente"===e.status&&{backgroundColor:D.red},"R\xe9par\xe9"===e.status&&{backgroundColor:"green"},"Devis"===e.status&&{backgroundColor:D.violet},"Retour au client"===e.status&&{backgroundColor:D.red},"Attente de pi\xe8ces"===e.status&&{backgroundColor:D.yellow}],children:e.status})})]})]})]})},e.itemId)}))}),u&&i&&Object(T.jsx)(ee,{item:i,setItem:s,openAdminItemDetails:u,setOpenAdminItemDetails:j})]})},oe=k.a.create({container:{backgroundColor:"transparent",display:"flex",justifyContent:"center",alignItems:"center"},button:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",marginVertical:4,marginHorizontal:"auto",minWidth:"50%",backgroundColor:D.green,borderColor:D.green,borderWidth:1,borderStyle:"solid",borderRadius:15}}),ce=function(e){var t=e.title,n=e.clickHandler,r=e.iconName,o=e.iconPosition;return Object(T.jsx)(L,{style:oe.container,children:Object(T.jsxs)(C.a,{style:oe.button,onPress:n,children:[r&&"before"===o&&Object(T.jsx)(b.a,{size:20,name:r,color:D.white}),Object(T.jsx)(W,{style:{color:D.white,fontSize:16,fontWeight:"bold",padding:10},children:t}),r&&"after"===o&&Object(T.jsx)(b.a,{size:20,name:r,color:D.white})]})})},ie=function(e){var t=e.children,n=e.open,r=e.setOpen;return Object(T.jsx)(L,{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",flex:1,paddingTop:16},children:Object(T.jsx)(Z.a,{animationType:"slide",transparent:!0,visible:n,onRequestClose:function(){r(!n)},children:Object(T.jsx)(L,{style:{flex:1},children:Object(T.jsx)(Q.a,{children:Object(T.jsxs)(L,{style:{height:K.a.get("window").height-20,justifyContent:"center",alignItems:"center",marginTop:20},children:[Object(T.jsx)(Y.a,{style:{position:"absolute",top:5,right:10,borderRadius:50,padding:10,elevation:10,zIndex:50,backgroundColor:D.red},onPress:function(){return r(!n)},children:Object(T.jsx)(b.a,{style:{color:D.white,fontWeight:"bold",textAlign:"center"},size:25,name:"close"})}),Object(T.jsx)(L,{style:{width:"100%"},children:t})]})})})})})};function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=k.a.create({container:{backgroundColor:"transparent",marginHorizontal:15,marginVertical:4}}),de=function(e){var t=e.placeholder,n=e.value,r=e.setValue,o=e.condition;return Object(T.jsx)(L,{style:le.container,children:Object(T.jsx)(X.a,{style:ae({padding:10,borderRadius:15,backgroundColor:D.gray,color:D.black},o?{borderColor:D.red,borderWidth:2}:{borderColor:D.black,borderWidth:1}),placeholder:t,placeholderTextColor:"#999",value:n,onChangeText:function(e){return r&&r(e)}})})},ue=function(e){var t=e.substring(0,3),n=parseInt(e.substring(3)),r="",o="",c="22"+function(){var e="";switch((new Date).getMonth()){case 0:e="A";break;case 1:e="B";break;case 2:e="C";break;case 3:e="D";break;case 4:e="E";break;case 5:e="F";break;case 6:e="G";break;case 7:e="H";break;case 8:e="I";break;case 9:e="J";break;case 10:e="K";break;case 11:e="L";break;default:e=""}return e}();return t===c?(++n>=100?r=n.toString():100>n&&n>=10?r="0".concat(n.toString()):10>n&&(r="00".concat(n.toString())),o=t+r):o=c+"001",o},be=function(){var e=6e4*(new Date).getTimezoneOffset(),t=new Date(Date.now()-e).toISOString().slice(0,-1);return t.substring(0,10)+" "+t.substring(11,16)};function je(e){var t=e.openAddModal,n=e.setOpenAddModal,r=Object(O.useState)(""),o=l()(r,2),c=o[0],i=o[1],s=Object(O.useState)(""),a=l()(s,2),d=a[0],b=a[1],j=Object(O.useState)(""),h=l()(j,2),p=h[0],f=h[1],g=Object(O.useState)(""),x=l()(g,2),m=x[0],y=x[1],w=Object(O.useState)(""),v=l()(w,2),k=v[0],C=v[1],S=Object(G.e)(),P=Object(O.useCallback)((function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Object(G.f)(Object(G.b)(S,"currentId","currentId"),(function(e){e.exists()&&i(ue(e.data().id))}));case 1:case"end":return e.stop()}}),null,null,null,Promise)}),[]);Object(O.useEffect)((function(){P()}),[P]);return Object(T.jsxs)(ie,{open:t,setOpen:n,children:[k.length>1&&Object(T.jsx)(W,{style:he.error,children:k}),Object(T.jsxs)(W,{style:he.modalText,children:["Ajouter: ",c]}),Object(T.jsx)(de,{placeholder:"nom du client",value:d,setValue:b,condition:!d}),Object(T.jsx)(de,{placeholder:"num\xe9ro de t\xe9l\xe9phone du client",value:p,setValue:f,condition:!p}),Object(T.jsx)(de,{placeholder:"mod\xe8le du produit",value:m,setValue:y,condition:!m}),Object(T.jsx)(ce,{title:"Ajouter",clickHandler:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c&&d&&p&&m)){e.next=11;break}return e.next=3,u.a.awrap(Object(G.h)(Object(G.b)(S,"items",c),{clientName:d.toLowerCase(),clientPhoneNumber:p,itemId:c,model:m,status:"En attente",createdAt:be()}));case 3:return e.next=5,u.a.awrap(Object(G.h)(Object(G.b)(S,"currentId","currentId"),{id:c}));case 5:n(!1),b(""),f(""),y(""),e.next=12;break;case 11:c?(C("Champs obligatoire!"),setTimeout((function(){C("")}),3e3)):(C("Erreur avec le num\xe9ro de bon"),setTimeout((function(){C("")}),3e3));case 12:case"end":return e.stop()}}),null,null,null,Promise)}})]})}var he=k.a.create({error:{backgroundColor:D.red,color:D.white,paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"},modalText:{marginBottom:15,textAlign:"center"}}),Oe=["","En attente","R\xe9par\xe9","Devis","Retour au client","Attente de pi\xe8ces"],pe=k.a.create({error:{backgroundColor:D.red,color:D.white,paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"},modalText:{marginBottom:15,textAlign:"center"}}),fe=function(e){var t=e.setItems,n=e.setOpenList,r=e.openSearchModal,o=e.setOpenSearchModal,c=Object(G.e)(),i=Object(O.useState)(""),s=l()(i,2),a=s[0],d=s[1],b=Object(O.useState)(""),j=l()(b,2),h=j[0],p=j[1],f=Object(O.useState)(""),g=l()(f,2),x=g[0],m=g[1],y=Object(O.useState)(""),w=l()(y,2),v=w[0],k=w[1],C=Object(O.useState)(""),S=l()(C,2),P=S[0],z=S[1],R=Object(O.useState)(Oe[0]),I=l()(R,2),N=I[0],V=I[1],A=Object(O.useState)(!1),E=l()(A,2),L=E[0],B=E[1];return Object(T.jsxs)(ie,{open:r,setOpen:o,children:[a.length>0&&Object(T.jsx)(W,{style:pe.error,children:a}),Object(T.jsx)(W,{style:pe.modalText,children:"S\xe9l\xe9ctionnez les param\xe8tres de votre requ\xeate"}),Object(T.jsx)(de,{placeholder:"Num\xe9ro de bon",value:h,setValue:p}),Object(T.jsx)(de,{placeholder:"Nom du client",value:x,setValue:m}),Object(T.jsx)(de,{placeholder:"Mod\xe8le du produit",value:v,setValue:k}),Object(T.jsx)(de,{placeholder:"Num\xe9ro de s\xe9rie",value:P,setValue:z}),Object(T.jsx)(Y.a,{onPress:function(){return B(!0)},style:{marginHorizontal:15,marginVertical:4,padding:10,borderRadius:15,backgroundColor:D.gray,borderColor:D.black,borderWidth:1},children:N?Object(T.jsx)(W,{style:{color:D.black},children:N}):Object(T.jsx)(W,{style:{color:"#999"},children:"Etat"})}),Object(T.jsx)($.a,{isVisible:L,children:Oe.map((function(e,t){return Object(T.jsx)($.c,{onPress:function(){V(e),B(!1)},children:Object(T.jsx)($.c.Content,{children:Object(T.jsx)($.c.Title,{children:e.length>0?e:"*"})})},t)}))}),Object(T.jsx)(ce,{title:"Chercher",clickHandler:function(){var e,r,i;return u.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=[],h&&e.push(Object(G.j)("itemId","==",h.toLowerCase())),x&&e.push(Object(G.j)("clientName","==",x.toLowerCase())),v&&e.push(Object(G.j)("model","==",v.toLowerCase())),P&&e.push(Object(G.j)("serialNumber","==",P.toLowerCase())),N&&e.push(Object(G.j)("status","==",N)),r=[],s.next=9,u.a.awrap(Object(G.d)(G.g.apply(void 0,[Object(G.a)(c,"items")].concat(e))));case 9:(i=s.sent).empty?(d("Aucun r\xe9sultat!"),setTimeout((function(){d("")}),3e3)):(i.forEach((function(e){r.push(e.data())})),o(!1),m(""),p(""),k(""),z(""),V(Oe[0]),n(!0),t(r));case 11:case"end":return s.stop()}}),null,null,null,Promise)},iconName:"search",iconPosition:"before"})]})},ge=n(245);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=Object(ge.a)({name:"user",initialState:{status:"idle",isAuthenticated:!1},reducers:{fetchUser:function(e,t){t.payload?(e.status="complete",e.isAuthenticated=!0,e.user=t.payload):(e.status="complete",e.isAuthenticated=!1,e.user=void 0)},updateUser:function(e,t){e.status="complete",e.isAuthenticated=!0,e.user=me(me({},e.user),{},{role:t.payload.role,items:t.payload.items,phoneNumber:t.payload.phoneNumber})},signOutUser:function(e){e.status="complete",e.isAuthenticated=!1,e.user=void 0}},extraReducers:function(e){}}),we=function(e){return e.user},ve=ye.actions,ke=ve.fetchUser,Ce=ve.updateUser,Se=ve.signOutUser,Pe=ye.reducer;function ze(){var e=Object(q.c)(we).user,t=Object(G.e)(),n=Object(O.useState)(!1),r=l()(n,2),o=r[0],c=r[1],i=Object(O.useState)(!1),s=l()(i,2),a=s[0],d=s[1],j=Object(O.useState)(!1),h=l()(j,2),p=h[0],f=h[1],g=Object(O.useState)(),x=l()(g,2),m=x[0],y=x[1];return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(Q.a,{children:Object(T.jsxs)(L,{style:Re.container,children:[Object(T.jsxs)(W,{style:Re.title,children:["Bienvenu admin ",null==e?void 0:e.displayName]}),Object(T.jsxs)(L,{style:Re.actions,children:[Object(T.jsxs)(C.a,{onPress:function(){return c(!o)},style:[Re.actioncard,Re.actioncardadd],children:[Object(T.jsx)(b.a,{size:25,color:D.white,name:"plus-circle"}),Object(T.jsx)(W,{style:{color:D.white},children:"Ajouter"})]}),Object(T.jsxs)(C.a,{onPress:function(){return d(!a)},style:[Re.actioncard,Re.actioncardsearch],children:[Object(T.jsx)(b.a,{size:25,color:D.white,name:"search"}),Object(T.jsx)(W,{style:{color:D.white},children:"Chercher"})]}),Object(T.jsxs)(C.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:y([]),Object(G.f)(Object(G.g)(Object(G.a)(t,"items")),(function(e){var t=[];e.forEach((function(e){t.unshift(e.data())})),f(!0),y(t)}));case 2:case"end":return e.stop()}}),null,null,null,Promise)},style:[Re.actioncard,Re.actioncardlist],children:[Object(T.jsx)(b.a,{size:25,color:D.white,name:"tasks"}),Object(T.jsx)(W,{style:{color:D.white},children:"Liste"})]})]}),Object(T.jsxs)(L,{style:{height:K.a.get("window").height-190},children:[p&&Object(T.jsx)(L,{style:{paddingBottom:75},children:m?Object(T.jsx)(re,{items:m,openList:p,setOpenList:f}):Object(T.jsx)(W,{children:"R\xe9cup\xe9ration des donn\xe9es..."})}),Object(T.jsx)(fe,{setItems:y,setOpenList:f,openSearchModal:a,setOpenSearchModal:d}),Object(T.jsx)(je,{openAddModal:o,setOpenAddModal:c})]})]})})})}var Re=k.a.create({container:{display:"flex",flexDirection:"column",alignItems:"center",flex:1,paddingTop:20,paddingBottom:50},title:{fontSize:15,fontWeight:"bold",marginVertical:30,marginHorizontal:20},actions:{width:"100%",display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"space-around"},actioncard:{width:100,height:100,borderWidth:1,borderRadius:25,display:"flex",alignItems:"center",justifyContent:"center"},actioncardadd:{borderColor:D.black,backgroundColor:D.black},actioncardsearch:{borderColor:D.violet,backgroundColor:D.violet},actioncardlist:{borderColor:D.red,backgroundColor:D.red}});function De(e){var t=e.item,n=e.openItemDetails,r=e.setOpenItemDetails,o=(x(),Object(O.useState)(t.clientNote?t.clientNote:"")),c=l()(o,2),i=c[0],s=c[1],a=Object(O.useState)(""),d=l()(a,2),j=d[0],h=d[1],p=Object(G.e)();return Object(T.jsxs)(ie,{open:n,setOpen:r,children:[Object(T.jsxs)(L,{style:Te.modalBlock,children:[Object(T.jsx)(W,{style:Te.modalText,children:"Num\xe9ro de bon:"}),Object(T.jsx)(W,{style:{fontSize:45,fontWeight:"bold"},children:t.itemId})]}),Object(T.jsxs)(L,{style:Te.modalBlock,children:[Object(T.jsx)(W,{style:{fontSize:35,fontWeight:"700"},children:t.clientName}),Object(T.jsxs)(W,{style:Te.modalText,children:["Num\xe9ro de t\xe9l\xe9phone: ",t.clientPhoneNumber]}),Object(T.jsxs)(W,{style:Te.modalText,children:["Date d'entr\xe9e: ",t.createdAt]})]}),Object(T.jsxs)(L,{style:Te.modalBlock,children:[Object(T.jsx)(W,{style:{fontWeight:"bold",fontSize:22},children:t.model}),t.serialNumber&&Object(T.jsxs)(W,{style:Te.modalText,children:["Num\xe9ro de s\xe9rie: ",t.serialNumber]})]}),Object(T.jsxs)(L,{style:[Te.modalBlock],children:[Object(T.jsxs)(L,{style:{display:"flex",flexDirection:"row",flexWrap:"wrap"},children:[Object(T.jsx)(W,{style:Te.modalText,children:"Etat:"}),Object(T.jsx)(W,{style:[Te.modalText,{backgroundColor:D.red,color:D.white,marginLeft:5,paddingHorizontal:3}],children:t.status})]}),t.prestation&&Object(T.jsx)(L,{children:Object(T.jsxs)(W,{style:Te.modalText,children:["Prestation: ",t.prestation," DZD"]})})]}),t.diagnostic&&Object(T.jsxs)(L,{style:Te.modalBlock,children:[Object(T.jsx)(W,{style:Te.modalText,children:"Diagnostique:"}),Object(T.jsx)(W,{style:Te.modalText,children:t.diagnostic})]}),Object(T.jsxs)(L,{style:Te.modalBlock,children:[Object(T.jsx)(W,{style:Te.modalText,children:"Vous pouvez laisser une note au r\xe9parateur"}),Object(T.jsxs)(L,{style:{marginVertical:5},children:[Object(T.jsx)(X.a,{value:i,onChangeText:function(e){return s(e)},placeholder:"",style:{paddingVertical:10,paddingLeft:10,paddingRight:40,borderRadius:15,backgroundColor:D.black,color:D.white,borderColor:D.white,borderWidth:1}}),Object(T.jsx)(Y.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!t.itemId){e.next=5;break}return e.next=3,u.a.awrap(Object(G.i)(Object(G.b)(p,"items",t.itemId),{clientNote:i}));case 3:h("Successfully submitted your note."),setTimeout((function(){h("")}),3e3);case 5:case"end":return e.stop()}}),null,null,null,Promise)},style:{position:"absolute",right:10,top:8},children:Object(T.jsx)(b.a,{name:"send",size:25,color:"green"})}),j.length>0&&Object(T.jsx)(b.a,{name:"check",size:25,color:"green",style:{position:"absolute",right:40,top:8}})]})]})]})}var Te=k.a.create({modalText:{fontSize:15},modalBlock:{margin:30}});function Ie(){var e=Object(G.e)(),t=Object(O.useState)(""),r=l()(t,2),o=r[0],c=r[1],i=Object(O.useState)(""),s=l()(i,2),a=s[0],d=s[1],j=Object(O.useState)(""),h=l()(j,2),p=h[0],f=h[1],g=Object(O.useState)(!1),x=l()(g,2),m=x[0],y=x[1],w=Object(O.useState)(),v=l()(w,2),k=v[0],S=v[1];return Object(T.jsxs)(L,{style:Ne.container,children:[Object(T.jsx)(H.a,{source:n(306),style:{height:250,width:250}}),Object(T.jsxs)(L,{style:Ne.searchBar,children:[p.length>1&&Object(T.jsx)(W,{style:Ne.error,children:p}),Object(T.jsx)(de,{placeholder:"num\xe9ro de bon - exemple: 22A008",value:a,setValue:d,condition:p.length>0&&!a}),Object(T.jsx)(de,{placeholder:"nom sur le bon - exemple: Mohamed Mohamed",value:o,setValue:c,condition:p.length>0&&!o}),Object(T.jsx)(L,{style:Ne.buttoncontainer,children:Object(T.jsx)(L,{style:{display:"flex",justifyContent:"center",alignItems:"center",marginHorizontal:"auto",marginVertical:4,height:50,width:50,borderRadius:50,backgroundColor:D.green},children:Object(T.jsx)(C.a,{onPress:function(){return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:o&&a?Object(G.f)(Object(G.b)(e,"items",a.toUpperCase()),(function(e){e.exists()?e.data().clientName.toLowerCase()===o.toLowerCase()?(S(e.data()),y(!0),f(""),d(""),c("")):(f("Veuillez entrer le nom affich\xe9 sur le bon!"),setTimeout((function(){f("")}),3e3)):(f("Ce bon n'existe pas!"),setTimeout((function(){f("")}),3e3))})):(f("Champs obligatoire!"),setTimeout((function(){f("")}),3e3));case 1:case"end":return t.stop()}}),null,null,null,Promise)},children:Object(T.jsx)(b.a,{size:30,name:"search",color:D.white})})})})]}),m&&k&&Object(T.jsx)(De,{item:k,openItemDetails:m,setOpenItemDetails:y})]})}var Ne=k.a.create({container:{height:"100%",display:"flex",flex:1,alignItems:"center",paddingTop:20},title:{fontSize:35,fontWeight:"bold",marginVertical:30,marginHorizontal:20},searchBar:{width:"100%",flex:1,justifyContent:"center",backgroundColor:"transparent"},buttoncontainer:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},error:{backgroundColor:D.red,color:D.white,paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"}}),Ve=n(93),Ae=function(){var e,t=Object(q.c)(we).user,r=Object(q.b)(),o=Object(J.c)(),c=Object(G.e)();Object(O.useEffect)((function(){t&&t.uid&&Object(G.f)(Object(G.b)(c,"custom",t.uid),(function(e){r(Ce(e.data()))}))}),[]);return Object(T.jsx)(T.Fragment,{children:t&&Object(T.jsxs)(L,{style:{paddingTop:20},children:[Object(T.jsxs)(L,{style:{position:"relative",marginVertical:50,display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(T.jsx)(H.a,{style:{position:"absolute",right:K.a.get("window").width/2-120,height:250,width:250},source:n(310)}),"web"!==M.a.OS&&null!=(e=t.photoURL)&&e.includes(".svg")?Object(T.jsx)(L,{style:{backgroundColor:"transparent"},children:Object(T.jsx)(Ve.SvgUri,{uri:t.photoURL,width:100,height:100,style:{borderRadius:50}})}):Object(T.jsx)(H.a,{source:{uri:t.photoURL},style:{borderRadius:50,width:100,height:100}}),Object(T.jsx)(W,{style:{fontSize:20},children:t.displayName})]}),Object(T.jsxs)(L,{style:{margin:30},children:[Object(T.jsxs)(W,{style:{fontSize:15,display:"flex",flexDirection:"row"},children:[Object(T.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"Email:"})," ",t.email]}),t.phoneNumber&&Object(T.jsxs)(W,{style:{fontSize:15,display:"flex",flexDirection:"row"},children:[Object(T.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"N t\xe9l\xe9phone:"})," ",t.phoneNumber]}),t.role&&Object(T.jsxs)(W,{style:{fontSize:15,display:"flex",flexDirection:"row"},children:[Object(T.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"R\xf4le:"})," ",t.role]})]}),t.items&&t.items.length>0&&Object(T.jsx)(L,{style:{margin:30},children:t.items.map((function(e){return Object(T.jsxs)(L,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around"},children:[Object(T.jsx)(W,{children:e.itemId}),Object(T.jsx)(W,{children:e.clientName}),Object(T.jsx)(W,{children:e.model}),Object(T.jsx)(W,{children:e.status})]},e.itemId)}))}),Object(T.jsx)(ce,{title:"Se d\xe9connecter",clickHandler:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Object(J.h)(o).then((function(){return r(Se())}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},iconName:"sign-out",iconPosition:"after"})]})})};function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=k.a.create({container:{backgroundColor:D.white,borderRadius:25,display:"flex",padding:20},error:{backgroundColor:D.red,color:D.white,paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"}}),Be=function(e){var t=e.setRegisterOpen,n=(x(),Object(O.useState)("")),r=l()(n,2),o=r[0],c=r[1],i=Object(O.useState)(""),s=l()(i,2),a=s[0],d=s[1],j=Object(O.useState)(!1),h=l()(j,2),p=h[0],f=h[1],g=Object(O.useState)(""),m=l()(g,2),y=m[0],w=m[1],v=Object(q.c)(we).user,k=Object(q.b)(),S=Object(J.c)();Object(O.useEffect)((function(){v?t(!1):S.currentUser&&(k(ke(S.currentUser)),t(!1))}),[]);return Object(T.jsxs)(L,{style:Le.container,children:[y.length>1&&Object(T.jsx)(W,{style:Le.error,children:y}),Object(T.jsx)(de,{placeholder:"email",value:o,setValue:c,condition:y.length>1&&!o}),Object(T.jsxs)(L,{style:We({position:"relative",display:"flex",flexDirection:"row",justifyContent:"space-between",marginHorizontal:15,backgroundColor:D.gray,marginVertical:4,padding:10,borderRadius:15},y.length>1&&!a?{borderColor:D.red,borderWidth:2}:{borderColor:D.black,borderWidth:1}),children:[Object(T.jsx)(X.a,{style:{flex:9,color:D.black},placeholder:"mot de passe",placeholderTextColor:"#999",secureTextEntry:!p,onChangeText:function(e){return d(e)}}),Object(T.jsx)(C.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},onPress:function(){return f(!p)},children:p?Object(T.jsx)(b.a,{style:{color:D.black},size:15,name:"eye"}):Object(T.jsx)(b.a,{style:{color:D.black},size:15,name:"eye-slash"})})]}),Object(T.jsx)(ce,{title:"S'identifier",clickHandler:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:o&&a?Object(J.g)(S,o,a).then((function(e){k(ke(e.user)),t(!1)})).catch((function(e){w("Impossible de se connecter!"),setTimeout((function(){w("")}),3e3)})):(w("Champs obligatoir!"),setTimeout((function(){w("")}),3e3));case 1:case"end":return e.stop()}}),null,null,null,Promise)}})]})};function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me=k.a.create({container:{backgroundColor:D.white,borderRadius:25,display:"flex",padding:20},error:{backgroundColor:D.red,color:D.white,paddingHorizontal:10,paddingVertical:20,fontSize:20,fontWeight:"bold",textAlign:"center"}}),Fe=function(e){var t=e.setRegisterOpen,n=(x(),Object(O.useState)("")),r=l()(n,2),o=r[0],c=r[1],i=Object(O.useState)(""),s=l()(i,2),a=s[0],d=s[1],j=Object(O.useState)(""),h=l()(j,2),p=h[0],f=h[1],g=Object(O.useState)(""),m=l()(g,2),y=m[0],w=m[1],v=Object(O.useState)(!1),k=l()(v,2),S=k[0],P=k[1],z=Object(q.c)(we).user,R=Object(q.b)(),I=Object(J.c)(),N=Object(G.e)();Object(O.useEffect)((function(){z?t(!1):I.currentUser&&(R(ke(I.currentUser)),t(!1))}),[]);return Object(T.jsxs)(L,{style:Me.container,children:[y.length>1&&Object(T.jsx)(W,{style:Me.error,children:y}),Object(T.jsx)(de,{placeholder:"nom d'utilisateur",value:o,setValue:c,condition:y.length>1&&!o}),Object(T.jsx)(de,{placeholder:"email",value:a,setValue:d,condition:y.length>1&&!a}),Object(T.jsxs)(L,{style:He({position:"relative",display:"flex",flexDirection:"row",justifyContent:"space-between",backgroundColor:D.gray,marginHorizontal:15,marginVertical:4,padding:10,borderRadius:15},y.length>1&&!p?{borderColor:D.red,borderWidth:2}:{borderColor:D.black,borderWidth:1}),children:[Object(T.jsx)(X.a,{style:{flex:9,color:D.black},placeholder:"mot de passe",placeholderTextColor:"#999",secureTextEntry:!S,onChangeText:function(e){return f(e)}}),Object(T.jsx)(C.a,{style:{flex:1,alignItems:"center",justifyContent:"center"},onPress:function(){return P(!S)},children:S?Object(T.jsx)(b.a,{style:{color:D.black},size:15,name:"eye"}):Object(T.jsx)(b.a,{style:{color:D.black},size:15,name:"eye-slash"})})]}),Object(T.jsx)(ce,{title:"Cr\xe9er un compte",clickHandler:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:o&&a&&p?Object(J.a)(I,a,p).then((function(e){Object(J.j)(e.user,{displayName:o,photoURL:"https://avatars.dicebear.com/api/gridy/"+o+".svg"}).then((function(){return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(Object(G.h)(Object(G.b)(N,"custom",e.user.uid),{userId:e.user.uid,username:e.user.displayName,role:"basic"}));case 2:R(ke(e.user)),t(!1);case 4:case"end":return n.stop()}}),null,null,null,Promise)}))})).catch((function(e){w("Un probl\xe8me avec vos entr\xe9es!"),setTimeout((function(){w("")}),3e3)})):(w("Champs obligatoir!"),setTimeout((function(){w("")}),3e3));case 1:case"end":return e.stop()}}),null,null,null,Promise)}})]})},qe=function(e){var t,n=e.setEditOpen,r=Object(q.c)(we).user,o=Object(q.b)(),c=Object(J.c)(),i=Object(G.e)(),s=Object(O.useState)(""),a=l()(s,2),d=a[0],j=a[1],h=Object(O.useState)(""),p=l()(h,2),f=p[0],g=p[1],x=Object(O.useState)(r&&r.displayName?r.displayName:""),m=l()(x,2),y=m[0],w=m[1],v=Object(O.useState)(r&&r.email?r.email:""),k=l()(v,2),C=k[0],S=k[1],P=Object(O.useState)(r&&r.phoneNumber?r.phoneNumber:""),z=l()(P,2),R=z[0],I=z[1];return Object(T.jsx)(T.Fragment,{children:r&&Object(T.jsxs)(L,{children:[Object(T.jsx)(Y.a,{style:{position:"absolute",top:0,right:10,borderRadius:50,padding:10,elevation:10,zIndex:50,backgroundColor:"green"},onPress:function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.currentUser){e.next=7;break}if(y&&y!==c.currentUser.displayName&&Object(J.j)(c.currentUser,{displayName:y}).then((function(){return n(!1)})),C&&C!==c.currentUser.email&&Object(J.i)(c.currentUser,C).then((function(){return n(!1)})),!R){e.next=7;break}return e.next=6,u.a.awrap(Object(G.i)(Object(G.b)(i,"custom",c.currentUser.uid),{phoneNumber:R}));case 6:n(!1);case 7:case"end":return e.stop()}}),null,null,null,Promise),n(!1)},children:Object(T.jsx)(b.a,{style:{color:D.white,fontWeight:"bold",textAlign:"center"},size:25,name:"check"})}),Object(T.jsx)(L,{style:{marginVertical:50,display:"flex",justifyContent:"center",alignItems:"center"},children:"web"!==M.a.OS&&null!=(t=r.photoURL)&&t.includes(".svg")?Object(T.jsx)(L,{style:{backgroundColor:"transparent"},children:Object(T.jsx)(Ve.SvgUri,{uri:r.photoURL,width:100,height:100,style:{borderRadius:50}})}):Object(T.jsx)(H.a,{source:{uri:r.photoURL},style:{borderRadius:50,width:100,height:100}})}),Object(T.jsx)(L,{style:{marginLeft:30,marginVertical:10},children:Object(T.jsxs)(W,{style:{fontSize:15,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(T.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"Nom:"})," ",Object(T.jsx)(de,{value:y,setValue:w,placeholder:"Nom du client"})]})}),Object(T.jsx)(L,{style:{marginLeft:30,marginVertical:10},children:Object(T.jsxs)(W,{style:{fontSize:15,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(T.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"Email:"})," ",Object(T.jsx)(de,{value:C,setValue:S,placeholder:"Addresse email du client"})]})}),Object(T.jsx)(L,{style:{marginLeft:30,marginVertical:10},children:Object(T.jsxs)(W,{style:{fontSize:15,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(T.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"N t\xe9l\xe9phone:"})," ",Object(T.jsx)(de,{value:R,setValue:I,placeholder:"Num\xe9ro de t\xe9l\xe9phone du client"})]})}),Object(T.jsxs)(L,{style:{marginLeft:30,marginVertical:10},children:[f.length>0&&Object(T.jsx)(W,{style:{color:"green",fontWeight:"bold"},children:f}),Object(T.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"Votre addresse email n'est pas v\xe9rif\xe9e."}),Object(T.jsx)(Y.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c.currentUser&&Object(J.e)(c.currentUser).then((function(){g("Un email de v\xe9rification vous a \xe9t\xe9 envoy\xe9!"),setTimeout((function(){g("")}),3e3)}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(T.jsxs)(W,{style:{color:"gray",textDecorationLine:"underline"},children:["Envoyez un email de v\xe9rification \xe0 ",r.email]})})]}),Object(T.jsxs)(L,{style:{marginLeft:30,marginVertical:10},children:[d.length>0&&Object(T.jsx)(W,{style:{color:"green",fontWeight:"bold"},children:d}),Object(T.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"Vous avez oubliez votre mot de passe?"}),Object(T.jsx)(Y.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c.currentUser&&c.currentUser.email&&Object(J.f)(c,c.currentUser.email).then((function(){j("Email de r\xe9initialisation de mot de passe envoy\xe9 avec succ\xe8s!"),setTimeout((function(){j("")}),3e3)}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(T.jsx)(W,{style:{color:"gray",textDecorationLine:"underline"},children:"Envoyez un email de r\xe9initialisation de mot de passe"})})]}),Object(T.jsxs)(L,{style:{marginLeft:30,marginVertical:10},children:[Object(T.jsx)(W,{style:{fontWeight:"bold",marginRight:5},children:"Voulez vous supprimer votre compte?"}),Object(T.jsx)(W,{children:"Cela supprimera tous vos donn\xe9es. Vos donn\xe9es seront irr\xe9cup\xe9rables."}),Object(T.jsx)(Y.a,{onPress:function(){return u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:c.currentUser&&Object(J.b)(c.currentUser).then((function(){o(Se())}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},children:Object(T.jsx)(W,{style:{color:D.red,fontWeight:"bold",textDecorationLine:"underline"},children:"SUPPRIMER MON COMPTE"})})]})]})})},Ge=function(e){var t=e.setAddOpen,n=Object(q.c)(we).user;return Object(T.jsx)(T.Fragment,{children:n&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(W,{style:{marginBottom:15,textAlign:"center"},children:"Ajouter un produit"}),Object(T.jsx)(ce,{title:"Fermer",clickHandler:function(){return t(!1)}})]})})};function Je(){var e=Object(q.c)(we).user,t=Object(q.b)(),n=Object(G.e)(),r=Object(O.useState)(!1),o=l()(r,2),c=o[0],i=o[1],s=Object(O.useState)(!1),a=l()(s,2),d=a[0],u=a[1],b=Object(O.useState)(!1),j=l()(b,2),h=j[0],p=j[1],f=Object(O.useState)(!1),g=l()(f,2),x=g[0],m=g[1],y=Object(O.useState)(!1),w=l()(y,2),v=w[0],k=w[1];return Object(O.useEffect)((function(){e&&e.uid&&Object(G.f)(Object(G.b)(n,"custom",e.uid),(function(e){t(Ce(e.data()))}))}),[]),Object(T.jsxs)(L,{style:Ke.container,children:[e?Object(T.jsx)(Ae,{}):Object(T.jsxs)(L,{style:Ke.block,children:[Object(T.jsx)(W,{style:Ke.loginCtaText,children:"Avoir un compte vous permets de suivre votre produit et recevoir une notification d\xe8s qu'il est r\xe9par\xe9."}),Object(T.jsx)(ce,{title:"S'identifier",clickHandler:function(){return i(!0)},iconName:"sign-in",iconPosition:"after"}),Object(T.jsx)(ce,{title:"Cr\xe9er un compte",clickHandler:function(){return u(!0)},iconName:"user-plus",iconPosition:"after"}),Object(T.jsx)($.d,{overlayStyle:Ke.overlay,isVisible:c,onBackdropPress:function(){return i(!c)},children:Object(T.jsx)(Be,{setRegisterOpen:u})}),Object(T.jsx)($.d,{overlayStyle:Ke.overlay,isVisible:d,onBackdropPress:function(){return u(!d)},children:Object(T.jsx)(Fe,{setRegisterOpen:u})})]}),e&&Object(T.jsxs)($.e,{buttonStyle:{backgroundColor:D.green},containerStyle:{bottom:80},isOpen:v,icon:{name:"edit",color:D.white},openIcon:{name:"close",color:D.white},onPress:function(){return k(!v)},onOpen:function(){return k(!0)},onClose:function(){return k(!1)},children:[Object(T.jsx)($.e.Action,{style:{bottom:80},buttonStyle:{backgroundColor:D.green},icon:{name:"add",color:D.white},title:"Ajouter un produit",titleStyle:{position:"relative",bottom:80},onPress:function(){k(!1),m(!0)}}),Object(T.jsx)($.e.Action,{style:{bottom:80},buttonStyle:{backgroundColor:D.green},icon:{name:"edit",color:D.white},title:"Modifier votre profil",titleStyle:{position:"relative",bottom:80},onPress:function(){k(!1),p(!0)}})]}),x&&Object(T.jsx)(ie,{open:x,setOpen:m,children:Object(T.jsx)(Ge,{setAddOpen:m})}),h&&Object(T.jsx)(ie,{open:h,setOpen:p,children:Object(T.jsx)(qe,{setEditOpen:p})})]})}var Ke=k.a.create({container:{display:"flex",flex:1,paddingTop:20},block:{marginHorizontal:20,marginTop:50},loginCtaText:{textAlign:"center",fontSize:18,marginVertical:10},overlay:{borderWidth:0,borderRadius:25,width:"90%",backgroundColor:"transparent",padding:0}});function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze=Object(F.a)();var Xe=k.a.create({shadow:{shadowColor:D.yellow,shadowOffset:{width:0,height:10},shadowOpacity:.25,shadowRadius:3.5,elevation:5}});function $e(e){return Object(T.jsx)(b.a,Ye({size:30,style:{marginBottom:-3}},e))}var _e=function(){var e=Object(J.c)(),t=Object(G.e)(),n=Object(q.c)(we).user,r=Object(q.b)(),o=O.useState(!1),c=l()(o,2),i=c[0],s=c[1];O.useEffect((function(){Object(J.d)(e,(function(e){r(e?ke(e):Se())}))}),[]);var a=O.useCallback((function(){var e;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n||!n.uid){r.next=7;break}return r.next=3,u.a.awrap(Object(G.c)(Object(G.b)(t,"custom",n.uid)));case 3:(e=r.sent).exists()&&"admin"===e.data().role?s(!0):s(!1),r.next=8;break;case 7:s(!1);case 8:case"end":return r.stop()}}),null,null,null,Promise)}),[n]);return O.useEffect((function(){a()}),[a]),Object(T.jsxs)(Ze.Navigator,{initialRouteName:"Home",screenOptions:{tabBarActiveTintColor:D.black,tabBarActiveBackgroundColor:D.yellow,tabBarItemStyle:{borderRadius:50},tabBarInactiveTintColor:D.yellow,tabBarShowLabel:!1,tabBarStyle:Ye({position:"absolute",bottom:20,left:15,right:15,backgroundColor:D.gray,borderRadius:50,height:60},Xe.shadow)},children:[Object(T.jsx)(Ze.Screen,{name:"Home",component:Ie,options:function(e){e.navigation;return{title:"Home",tabBarIcon:function(e){var t=e.color;return Object(T.jsx)($e,{name:"search",color:t})},headerShown:!1}}}),i&&Object(T.jsx)(Ze.Screen,{name:"Admin",component:ze,options:{title:"Admin",headerShown:!1,tabBarIcon:function(e){var t=e.color;return Object(T.jsx)($e,{name:"cogs",color:t})}}}),Object(T.jsx)(Ze.Screen,{name:"Account",component:Je,options:{title:"Account",headerShown:!1,tabBarIcon:function(e){var t,r=e.color;return n?"web"!==M.a.OS&&null!=(t=n.photoURL)&&t.includes(".svg")?Object(T.jsx)(L,{style:{backgroundColor:"transparent"},children:Object(T.jsx)(Ve.SvgUri,{uri:n.photoURL,width:35,height:35,style:{borderRadius:50}})}):Object(T.jsx)(H.a,{source:{uri:n.photoURL},style:{borderRadius:50,width:35,height:35}}):Object(T.jsx)($e,{name:"user",color:r})}}})]})},et={prefixes:[n(244).a("/")],config:{screens:{Root:{screens:{Home:{screens:{HomeScreen:"home"}},Account:{screens:{AccountScreen:"account"}},Admin:{screens:{AdminScreen:"admin"}}}},NotFound:"*"}}};function tt(e){var t=e.colorScheme;return Object(T.jsx)(m.a,{linking:et,theme:"dark"===t?y.a:w.a,children:Object(T.jsx)(rt,{})})}var nt=Object(v.a)();function rt(){return Object(T.jsxs)(nt.Navigator,{children:[Object(T.jsx)(nt.Screen,{name:"Root",component:_e,options:{headerShown:!1}}),Object(T.jsx)(nt.Screen,{name:"NotFound",component:B,options:{title:"Oops!"}})]})}var ot=n(52),ct=n(106),it=n(241),st=Object(ot.combineReducers)({user:Pe}),at=[ct.a],lt=Object(ot.createStore)(st,{},Object(it.composeWithDevTools)(ot.applyMiddleware.apply(void 0,at))),dt={apiKey:"AIzaSyBM5PP4iO6svYbv6ekcB9A7Tx-idsQdlg0",authDomain:"biyou-repair.firebaseapp.com",projectId:"biyou-repair",storageBucket:"biyou-repair.appspot.com",messagingSenderId:"343143569769",appId:"1:343143569769:web:168a7dc30ce967e8dd45f8",measurementId:"G-74LH66PR7V"},ut=n(150);if(r.a.ignoreLogs(["Setting a timer"]),r.a.ignoreLogs(["AsyncStorage has been extracted from react-native core and will be removed in a future release"]),0===Object(ut.a)().length)Object(ut.b)(dt);function bt(){var e=function(){var e=Object(O.useState)(!1),t=l()(e,2),r=t[0],o=t[1];return Object(O.useEffect)((function(){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h.b(),e.next=4,u.a.awrap(j.b(f(f({},b.a.font),{},{"space-mono":n(266)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,o(!0),h.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),r}(),t=x();return e?Object(T.jsx)(c.b,{children:Object(T.jsxs)(q.a,{store:lt,children:[Object(T.jsx)(tt,{colorScheme:t}),Object(T.jsx)(o.a,{})]})}):null}},250:function(e,t,n){e.exports=n(335)},266:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"},306:function(e,t,n){e.exports=n.p+"static/media/adaptive-icon.cd34f223.png"},310:function(e,t,n){e.exports=n.p+"static/media/ring.41bc6751.png"},327:function(e,t){}},[[250,1,2]]]);
//# sourceMappingURL=app.64f59f64.chunk.js.map